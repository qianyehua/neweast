!function(t,e){"use strict";function o(t,o,n,a,r){if("string"==typeof o){var o=y.txt2color(o);n=o.type,p[n]=o[n],r=r!==e?r:o.alpha}else if(o)for(var s in o)t[n][s]=d(o[s]/g[n][s][1],0,1);return r!==e&&(t.alpha=+r),i(n,a?t:e)}function n(t,e,o){var n=u.options.grey,i={};return i.RGB={r:t.r,g:t.g,b:t.b},i.rgb={r:e.r,g:e.g,b:e.b},i.alpha=o,i.equivalentGrey=Math.round(n.r*t.r+n.g*t.g+n.b*t.b),i.rgbaMixBlack=c(e,{r:0,g:0,b:0},o,1),i.rgbaMixWhite=c(e,{r:1,g:1,b:1},o,1),i.rgbaMixBlack.luminance=s(i.rgbaMixBlack,!0),i.rgbaMixWhite.luminance=s(i.rgbaMixWhite,!0),u.options.customBG&&(i.rgbaMixCustom=c(e,u.options.customBG,o,1),i.rgbaMixCustom.luminance=s(i.rgbaMixCustom,!0),u.options.customBG.luminance=s(u.options.customBG,!0)),i}function i(t,e){var o,i,d,f=e||p,m=y,A=u.options,h=g,b=f.RND,v="",C="",x={hsl:"hsv",cmyk:"cmy",rgb:t},E=b.rgb;if("alpha"!==t){for(var B in h)if(!h[B][B]){t!==B&&"XYZ"!==B&&(C=x[B]||"rgb",f[B]=m[C+"2"+B](f[C])),b[B]||(b[B]={}),o=f[B];for(v in o)b[B][v]=Math.round(o[v]*("Lab"===B?1:h[B][v][1]))}"Lab"!==t&&delete f._rgb,E=b.rgb,f.HEX=m.RGB2HEX(E),f.equivalentGrey=A.grey.r*f.rgb.r+A.grey.g*f.rgb.g+A.grey.b*f.rgb.b,f.webSave=i=a(E,51),f.webSmart=d=a(E,17),f.saveColor=E.r===i.r&&E.g===i.g&&E.b===i.b?"web save":E.r===d.r&&E.g===d.g&&E.b===d.b?"web smart":"",f.hueRGB=y.hue2RGB(f.hsv.h),e&&(f.background=n(E,f.rgb,f.alpha))}var w,k,S,M,I,P,R,Q=f.rgb,G=f.alpha,$="luminance",T=f.background;return w=c(Q,{r:0,g:0,b:0},G,1),w[$]=s(w,!0),f.rgbaMixBlack=w,k=c(Q,{r:1,g:1,b:1},G,1),k[$]=s(k,!0),f.rgbaMixWhite=k,A.allMixDetails&&(w.WCAG2Ratio=l(w[$],0),k.WCAG2Ratio=l(k[$],1),A.customBG&&(S=c(Q,A.customBG,G,1),S[$]=s(S,!0),S.WCAG2Ratio=l(S[$],A.customBG[$]),f.rgbaMixCustom=S),M=c(Q,T.rgb,G,T.alpha),M[$]=s(M,!0),f.rgbaMixBG=M,I=c(Q,T.rgbaMixBlack,G,1),I[$]=s(I,!0),I.WCAG2Ratio=l(I[$],T.rgbaMixBlack[$]),I.luminanceDelta=Math.abs(I[$]-T.rgbaMixBlack[$]),I.hueDelta=r(T.rgbaMixBlack,I,!0),f.rgbaMixBGMixBlack=I,P=c(Q,T.rgbaMixWhite,G,1),P[$]=s(P,!0),P.WCAG2Ratio=l(P[$],T.rgbaMixWhite[$]),P.luminanceDelta=Math.abs(P[$]-T.rgbaMixWhite[$]),P.hueDelta=r(T.rgbaMixWhite,P,!0),f.rgbaMixBGMixWhite=P),A.customBG&&(R=c(Q,T.rgbaMixCustom,G,1),R[$]=s(R,!0),R.WCAG2Ratio=l(R[$],T.rgbaMixCustom[$]),f.rgbaMixBGMixCustom=R,R.luminanceDelta=Math.abs(R[$]-T.rgbaMixCustom[$]),R.hueDelta=r(T.rgbaMixCustom,R,!0)),f.RGBLuminance=s(E),f.HUELuminance=s(f.hueRGB),A.convertCallback&&A.convertCallback(f,t),f}function a(t,e){var o={},n=0,i=e/2;for(var a in t)n=t[a]%e,o[a]=t[a]+(n>i?e-n:-n);return o}function r(t,e,o){return(Math.max(t.r-e.r,e.r-t.r)+Math.max(t.g-e.g,e.g-t.g)+Math.max(t.b-e.b,e.b-t.b))*(o?255:1)/765}function s(t,e){for(var o=e?1:255,n=[t.r/o,t.g/o,t.b/o],i=u.options.luminance,a=n.length;a--;)n[a]=n[a]<=.03928?n[a]/12.92:Math.pow((n[a]+.055)/1.055,2.4);return i.r*n[0]+i.g*n[1]+i.b*n[2]}function c(t,o,n,i){var a={},r=n!==e?n:1,s=i!==e?i:1,c=r+s*(1-r);for(var l in t)a[l]=(t[l]*r+o[l]*s*(1-r))/c;return a.a=c,a}function l(t,e){var o=1;return o=t>=e?(t+.05)/(e+.05):(e+.05)/(t+.05),Math.round(100*o)/100}function d(t,e,o){return t>o?o:e>t?e:t}var g={rgb:{r:[0,255],g:[0,255],b:[0,255]},hsv:{h:[0,360],s:[0,100],v:[0,100]},hsl:{h:[0,360],s:[0,100],l:[0,100]},cmy:{c:[0,100],m:[0,100],y:[0,100]},cmyk:{c:[0,100],m:[0,100],y:[0,100],k:[0,100]},Lab:{L:[0,100],a:[-128,127],b:[-128,127]},XYZ:{X:[0,100],Y:[0,100],Z:[0,100]},alpha:{alpha:[0,1]},HEX:{HEX:[0,16777215]}},u={},p={},f={X:[.4124564,.3575761,.1804375],Y:[.2126729,.7151522,.072175],Z:[.0193339,.119192,.9503041],R:[3.2404542,-1.5371385,-.4985314],G:[-.969266,1.8760108,.041556],B:[.0556434,-.2040259,1.0572252]},m={r:.298954,g:.586434,b:.114612},A={r:.2126,g:.7152,b:.0722},h=t.Colors=function(t){this.colors={RND:{}},this.options={color:"rgba(204, 82, 37, 0.8)",XYZMatrix:f,grey:m,luminance:A,valueRanges:g},b(this,t||{})},b=function(t,n){var i,a,r=t.options;v(t);for(var s in n)n[s]!==e&&(r[s]=n[s]);i=r.XYZMatrix,n.XYZReference||(r.XYZReference={X:i.X[0]+i.X[1]+i.X[2],Y:i.Y[0]+i.Y[1]+i.Y[2],Z:i.Z[0]+i.Z[1]+i.Z[2]}),a=r.customBG,r.customBG="string"==typeof a?y.txt2color(a).rgb:a,p=o(t.colors,r.color,e,!0)},v=function(t){u!==t&&(u=t,p=t.colors)};h.prototype.setColor=function(t,n,a){return v(this),t?o(this.colors,t,n,e,a):(a!==e&&(this.colors.alpha=a),i(n))},h.prototype.getColor=function(t){var o=this.colors,n=0;if(t){for(t=t.split(".");o[t[n]];)o=o[t[n++]];t.length!==n&&(o=e)}return o},h.prototype.setCustomBackground=function(t){return v(this),this.options.customBG="string"==typeof t?y.txt2color(t).rgb:t,o(this.colors,e,"rgb")},h.prototype.saveAsBackground=function(){return v(this),o(this.colors,e,"rgb",!0)},h.prototype.convertColor=function(t,e){var o=y,n=g,i=e.split("2"),a=i[0],r=i[1],s=/(?:RG|HS|CM|LA)/,c=s.test(a),l=s.test(r),d={LAB:"Lab"},u=function(t,e,o){var i={},a="Lab"===e?1:0;for(var r in t)i[r]=o?Math.round(t[r]*(a||n[e][r][1])):t[r]/(a||n[e][r][1]);return i};return a=n[a]?a:d[a]||a.toLowerCase(),r=n[r]?r:d[r]||r.toLowerCase(),c&&"RGB2HEX"!==e&&(t=u(t,a)),t=a===r?t:o[a+"2"+r]?o[a+"2"+r](t,!0):"HEX"===r?o.RGB2HEX("RGB2HEX"===e?t:u("rgb"===a?t:o[a+"2rgb"](t,!0),"rgb",!0)):o["rgb2"+r](o[a+"2rgb"](t,!0),!0),l&&(t=u(t,r,!0)),t};var y={txt2color:function(t){var e={},o=t.replace(/(?:#|\)|%)/g,"").split("("),n=(o[1]||"").split(/,\s*/),i=o[1]?o[0].substr(0,3):"rgb",a="";if(e.type=i,e[i]={},o[1])for(var r=3;r--;)a=i[r]||i.charAt(r),e[i][a]=+n[r]/g[i][a][1];else e.rgb=y.HEX2rgb(o[0]);return e.alpha=n[3]?+n[3]:1,e},RGB2HEX:function(t){return((t.r<16?"0":"")+t.r.toString(16)+(t.g<16?"0":"")+t.g.toString(16)+(t.b<16?"0":"")+t.b.toString(16)).toUpperCase()},HEX2rgb:function(t){return t=t.split(""),{r:parseInt(t[0]+t[t[3]?1:0],16)/255,g:parseInt(t[t[3]?2:1]+(t[3]||t[1]),16)/255,b:parseInt((t[4]||t[2])+(t[5]||t[2]),16)/255}},hue2RGB:function(t){var e=6*t,o=~~e%6,n=6===e?0:e-o;return{r:Math.round(255*[1,1-n,0,0,n,1][o]),g:Math.round(255*[n,1,1,1-n,0,0][o]),b:Math.round(255*[0,0,n,1,1,1-n][o])}},rgb2hsv:function(t){var e,o,n,i=t.r,a=t.g,r=t.b,s=0;return r>a&&(a=r+(r=a,0),s=-1),o=r,a>i&&(i=a+(a=i,0),s=-2/6-s,o=Math.min(a,r)),e=i-o,n=i?e/i:0,{h:1e-15>n?p&&p.hsl.h||0:e?Math.abs(s+(a-r)/(6*e)):0,s:i?e/i:p&&p.hsv.s||0,v:i}},hsv2rgb:function(t){var e=6*t.h,o=t.s,n=t.v,i=~~e,a=e-i,r=n*(1-o),s=n*(1-a*o),c=n*(1-(1-a)*o),l=i%6;return{r:[n,s,r,r,c,n][l],g:[c,n,n,s,r,r][l],b:[r,r,c,n,n,s][l]}},hsv2hsl:function(t){var e=(2-t.s)*t.v,o=t.s*t.v;return o=t.s?1>e?e?o/e:0:o/(2-e):0,{h:t.h,s:t.v||o?o:p&&p.hsl.s||0,l:e/2}},rgb2hsl:function(t,e){var o=y.rgb2hsv(t);return y.hsv2hsl(e?o:p.hsv=o)},hsl2rgb:function(t){var e=6*t.h,o=t.s,n=t.l,i=.5>n?n*(1+o):n+o-o*n,a=n+n-i,r=i?(i-a)/i:0,s=~~e,c=e-s,l=i*r*c,d=a+l,g=i-l,u=s%6;return{r:[i,g,a,a,d,i][u],g:[d,i,i,g,a,a][u],b:[a,a,d,i,i,g][u]}},rgb2cmy:function(t){return{c:1-t.r,m:1-t.g,y:1-t.b}},cmy2cmyk:function(t){var e=Math.min(Math.min(t.c,t.m),t.y),o=1-e||1e-20;return{c:(t.c-e)/o,m:(t.m-e)/o,y:(t.y-e)/o,k:e}},cmyk2cmy:function(t){var e=t.k;return{c:t.c*(1-e)+e,m:t.m*(1-e)+e,y:t.y*(1-e)+e}},cmy2rgb:function(t){return{r:1-t.c,g:1-t.m,b:1-t.y}},rgb2cmyk:function(t,e){var o=y.rgb2cmy(t);return y.cmy2cmyk(e?o:p.cmy=o)},cmyk2rgb:function(t,e){var o=y.cmyk2cmy(t);return y.cmy2rgb(e?o:p.cmy=o)},XYZ2rgb:function(t,e){var o=u.options.XYZMatrix,n=t.X,i=t.Y,a=t.Z,r=n*o.R[0]+i*o.R[1]+a*o.R[2],s=n*o.G[0]+i*o.G[1]+a*o.G[2],c=n*o.B[0]+i*o.B[1]+a*o.B[2],l=1/2.4;return o=.0031308,r=r>o?1.055*Math.pow(r,l)-.055:12.92*r,s=s>o?1.055*Math.pow(s,l)-.055:12.92*s,c=c>o?1.055*Math.pow(c,l)-.055:12.92*c,e||(p._rgb={r:r,g:s,b:c}),{r:d(r,0,1),g:d(s,0,1),b:d(c,0,1)}},rgb2XYZ:function(t){var e=u.options.XYZMatrix,o=t.r,n=t.g,i=t.b,a=.04045;return o=o>a?Math.pow((o+.055)/1.055,2.4):o/12.92,n=n>a?Math.pow((n+.055)/1.055,2.4):n/12.92,i=i>a?Math.pow((i+.055)/1.055,2.4):i/12.92,{X:o*e.X[0]+n*e.X[1]+i*e.X[2],Y:o*e.Y[0]+n*e.Y[1]+i*e.Y[2],Z:o*e.Z[0]+n*e.Z[1]+i*e.Z[2]}},XYZ2Lab:function(t){var e=u.options.XYZReference,o=t.X/e.X,n=t.Y/e.Y,i=t.Z/e.Z,a=16/116,r=1/3,s=.008856,c=7.787037;return o=o>s?Math.pow(o,r):c*o+a,n=n>s?Math.pow(n,r):c*n+a,i=i>s?Math.pow(i,r):c*i+a,{L:116*n-16,a:500*(o-n),b:200*(n-i)}},Lab2XYZ:function(t){var e=u.options.XYZReference,o=(t.L+16)/116,n=t.a/500+o,i=o-t.b/200,a=Math.pow(n,3),r=Math.pow(o,3),s=Math.pow(i,3),c=16/116,l=.008856,d=7.787037;return{X:(a>l?a:(n-c)/d)*e.X,Y:(r>l?r:(o-c)/d)*e.Y,Z:(s>l?s:(i-c)/d)*e.Z}},rgb2Lab:function(t,e){var o=y.rgb2XYZ(t);return y.XYZ2Lab(e?o:p.XYZ=o)},Lab2rgb:function(t,e){var o=y.Lab2XYZ(t);return y.XYZ2rgb(e?o:p.XYZ=o,e)}}}(window),function(t){"use strict";var e='^§app alpha-bg-w">^§slds">^§sldl-1">$^§sldl-2">$^§sldl-3">$^§curm">$^§sldr-1">$^§sldr-2">$^§sldr-4">$^§curl">$^§curr">$$^§opacity">|^§opacity-slider">$$$^§memo">^§raster">$^§raster-bg">$|$|$|$|$|$|$|$|$^§memo-store">$^§memo-cursor">$$^§panel">^§hsv">^hsl-mode §ß">$^hsv-h-ß §ß">H$^hsv-h-~ §~">-^§nsarrow">$$^hsl-h-@ §@">H$^hsv-s-ß §ß">S$^hsv-s-~ §~">-$^hsl-s-@ §@">S$^hsv-v-ß §ß">B$^hsv-v-~ §~">-$^hsl-l-@ §@">L$$^§hsl §hide">^hsv-mode §ß">$^hsl-h-ß §ß">H$^hsl-h-~ §~">-$^hsv-h-@ §@">H$^hsl-s-ß §ß">S$^hsl-s-~ §~">-$^hsv-s-@ §@">S$^hsl-l-ß §ß">L$^hsl-l-~ §~">-$^hsv-v-@ §@">B$$^§rgb">^rgb-r-ß §ß">R$^rgb-r-~ §~">-$^rgb-r-@ §ß">&nbsp;$^rgb-g-ß §ß">G$^rgb-g-~ §~">-$^rgb-g-@ §ß">&nbsp;$^rgb-b-ß §ß">B$^rgb-b-~ §~">-$^rgb-b-@ §ß">&nbsp;$$^§cmyk">^Lab-mode §ß">$^cmyk-c-ß §@">C$^cmyk-c-~ §~">-$^Lab-L-@ §@">L$^cmyk-m-ß §@">M$^cmyk-m-~ §~">-$^Lab-a-@ §@">a$^cmyk-y-ß §@">Y$^cmyk-y-~ §~">-$^Lab-b-@ §@">b$^cmyk-k-ß §@">K$^cmyk-k-~ §~">-$^Lab-x-@ §ß">&nbsp;$$^§Lab §hide">^cmyk-mode §ß">$^Lab-L-ß §@">L$^Lab-L-~ §~">-$^cmyk-c-@ §@">C$^Lab-a-ß §@">a$^Lab-a-~ §~">-$^cmyk-m-@ §@">M$^Lab-b-ß §@">b$^Lab-b-~ §~">-$^cmyk-y-@ §@">Y$^Lab-x-ß §@">&nbsp;$^Lab-x-~ §~">-$^cmyk-k-@ §@">K$$^§alpha">^alpha-ß §ß">A$^alpha-~ §~">-$^alpha-@ §ß">W$$^§HEX">^HEX-ß §ß">#$^HEX-~ §~">-$^HEX-@ §ß">M$$^§ctrl">^§raster">$^§cont">$^§cold">$^§col1">|&nbsp;$$^§col2">|&nbsp;$$^§bres">RESET$^§bsav">SAVE$$$^§exit">$^§resize">$^§resizer">|$$$'.replace(/\^/g,'<div class="').replace(/\$/g,"</div>").replace(/~/g,"disp").replace(/ß/g,"butt").replace(/@/g,"labl").replace(/\|/g,"<div>"),o="är^1,äg^1,äb^1,öh^1,öh?1,öh?2,ös?1,öv?1,üh^1,üh?1,üh?2,üs?1,ül?1,.no-rgb-r är?2,.no-rgb-r är?3,.no-rgb-r är?4,.no-rgb-g äg?2,.no-rgb-g äg?3,.no-rgb-g äg?4,.no-rgb-b äb?2,.no-rgb-b äb?3,.no-rgb-b äb?4{visibility:hidden}är^2,är^3,äg^2,äg^3,äb^2,äb^3{@-image:url(_patches.png)}.§slds div{@-image:url(_vertical.png)}öh^2,ös^1,öv^1,üh^2,üs^1,ül^1{@-image:url(_horizontal.png)}ös?4,öv^3,üs?4,ül^3{@:#000}üs?3,ül^4{@:#fff}är?1{@-color:#f00}äg?1{@-color:#0f0}äb?1{@-color:#00f}är^2{@|-1664px 0}är^3{@|-896px 0}är?1,äg?1,äb?1,öh^3,ös^2,öv?2Ü-2432Öär?2Ü-2944Öär?3Ü-4480Öär?4Ü-3202Öäg^2Äöh^2{@|-640px 0}äg^3{@|-384px 0}äg?2Ü-4736Öäg?3Ü-3968Öäg?4Ü-3712Öäb^2{@|-1152px 0}äb^3{@|-1408px 0}äb?2Ü-3456Öäb?3Ü-4224Öäb?4Ü-2688Ööh^2Äär^3Ääb?4Ü0}öh?4,üh?4Ü-1664Öös^1,öv^1,üs^1,ül^1Ääg^3{@|-256px 0}ös^3,öv?4,üs^3,ül?4Ü-2176Öös?2,öv^2Ü-1920Öüh^2{@|-768px 0}üh^3,üs^2,ül?2Ü-5184Öüs?2,ül^2Ü-5824Ö.S är^2{@|-128px -128Ö.S är?1Ääg?1Ääb?1Äöh^3Äös^2Äöv?2Ü-1408Ö.S är?2Ääb^3Ü-128Ö.S är?3Ü-896Ö.S är?4Ü-256Ö.S äg^2{@|-256px -128Ö.S äg?2Ü-1024Ö.S äg?3Ü-640Ö.S äg?4Ü-512Ö.S äb^2{@|-128px 0}.S äb?2Ü-384Ö.S äb?3Ü-768Ö.S öh?4Äüh?4Ü-1536Ö.S ös^1Äöv^1Äüs^1Äül^1{@|-512px 0}.S ös^3Äöv?4Äüs^3Äül?4Ü-1280Ö.S ös?2Äöv^2Ü-1152Ö.S üh^2{@|-1024px 0}.S üh^3Äüs^2Äül?2Ü-5440Ö.S üs?2Äül^2Ü-5696Ö.XXS ös^2,.XXS öv?2Ü-5120Ö.XXS ös^3,.XXS öv?4,.XXS üs^3,.XXS ül^3,.XXS ül?4Ü-5056Ö.XXS ös?2,.XXS öv^2Ü-4992Ö.XXS üs^2,.XXS ül?2Ü-5568Ö.XXS üs?2,.XXS ül^2Ü-5632Ö".replace(/Ü/g,"{@|0 ").replace(/Ö/g,"px}").replace(/Ä/g,",.S ").replace(/\|/g,"-position:").replace(/@/g,"background").replace(/ü/g,".hsl-").replace(/ö/g,".hsv-").replace(/ä/g,".rgb-").replace(/~/g," .no-rgb-}").replace(/\?/g," .§sldr-").replace(/\^/g," .§sldl-"),n='∑{@#bbb;font-family:monospace, "Courier New", Courier, mono;font-size:12¥line-ä15¥font-weight:bold;cursor:default;~412¥ä323¥?top-left-radius:7¥?top-Ü-radius:7¥?bottom-Ü-radius:7¥?bottom-left-radius:7¥ö@#444}.S{~266¥ä177px}.XS{~158¥ä173px}.XXS{ä105¥~154px}.no-alpha{ä308px}.no-alpha .§opacity,.no-alpha .§alpha{display:none}.S.no-alpha{ä162px}.XS.no-alpha{ä158px}.XXS.no-alpha{ä90px}∑,∑ div{border:none;padding:0¥float:none;margin:0¥outline:none;box-sizing:content-box}∑ div{|absolute}^s .§curm,«§disp,«§nsarrow,∑ .§exit,∑ ø-cursor,∑ .§resize{öimage:url(_icons.png)}∑ .do-drag div{cursor:url(_blank.png), auto}∑ .§opacity,ø .§raster-bg,∑ .§raster{öimage:url(_bgs.png)}∑ ^s{~287¥ä256¥top:10¥left:10¥overflow:hidden;cursor:crosshair}.S ^s{~143¥ä128¥left:9¥top:9px}.XS ^s{left:7¥top:7px}.XXS ^s{left:5¥top:5px}^s div{~256¥ä256¥left:0px}.S ^l-1,.S ^l-2,.S ^l-3,.S ^l-4{~128¥ä128px}.XXS ^s,.XXS ^s ^l-1,.XXS ^s ^l-2,.XXS ^s ^l-3,.XXS ^s ^l-4{ä64px}^s ^r-1,^s ^r-2,^s ^r-3,^s ^r-4{~31¥left:256¥cursor:default}.S ^r-1,.S ^r-2,.S ^r-3,.S ^r-4{~15¥ä128¥left:128px}^s .§curm{margin:-5¥~11¥ä11¥ö|-36px -30px}.light .§curm{ö|-7px -30px}^s .§curl,^s .§curr{~0¥ä0¥margin:-3px -4¥border:4px solid;cursor:default;left:auto;öimage:none}^s .§curl,∑ ^s .§curl-dark,.hue-dark div.§curl{Ü:27¥?@† † † #fff}.light .§curl,∑ ^s .§curl-light,.hue-light .§curl{?@† † † #000}.S ^s .§curl,.S ^s .§curr{?~3px}.S ^s .§curl-light,.S ^s .§curl{Ü:13px}^s .§curr,∑ ^s .§curr-dark{Ü:4¥?@† #fff † †}.light .§curr,∑ ^s .§curr-light{?@† #000 † †}∑ .§opacity{bottom:44¥left:10¥ä10¥~287¥ö|0 -87px}.S .§opacity{bottom:27¥left:9¥~143¥ö|0 -100px}.XS .§opacity{left:7¥bottom:25px}.XXS .§opacity{left:5¥bottom:23px}.§opacity div{~100%;ä16¥margin-top:-3¥overflow:hidden}.§opacity .§opacity-slider{margin:0 -4¥~0¥ä8¥?~4¥?style:solid;?@#eee †}∑ ø{bottom:10¥left:10¥~288¥ä31¥ö@#fff}.S ø{ä15¥~144¥left:9¥bottom:9px}.XS ø{left:7¥bottom:7px}.XXS ø{left:5¥bottom:5px}ø div{|relative;float:left;~31¥ä31¥margin-Ü:1px}.S ø div{~15¥ä15px}∑ .§raster,ø .§raster-bg,.S ø .§raster,.S ø .§raster-bg{|absolute;top:0¥Ü:0¥bottom:0¥left:0¥~100%}.S ø .§raster-bg{ö|0 -31px}∑ .§raster{opacity:0.2;ö|0 -49px}.alpha-bg-b ø{ö@#333}.alpha-bg-b .§raster{opacity:1}ø ø-cursor{|absolute;Ü:0¥ö|-26px -87px}∑ .light ø-cursor{ö|3px -87px}.S ø-cursor{ö|-34px -95px}.S .light ø-cursor{ö|-5px -95px}∑ .§panel{|absolute;top:10¥Ü:10¥bottom:10¥~94¥?~1¥?style:solid;?@#222 #555 #555 #222;overflow:hidden;ö@#333}.S .§panel{top:9¥Ü:9¥bottom:9px}.XS .§panel{display:none}.§panel div{|relative}«§hsv,«§hsl,«§rgb,«§cmyk,«§Lab,«§alpha,.no-alpha «§HEX,«§HEX{~86¥margin:-1px 0px 1px 4¥padding:1px 0px 3¥?top-~1¥?top-style:solid;?top-@#444;?bottom-~1¥?bottom-style:solid;?bottom-@#222;float:Ö«§hsv,«§hsl{padding-top:2px}.S .§hsv,.S .§hsl{padding-top:1px}«§HEX{?bottom-style:none;?top-~0¥margin-top:-4¥padding-top:0px}.no-alpha «§HEX{?bottom-style:none}«§alpha{?bottom-style:none}.S .rgb-r .§hsv,.S .rgb-g .§hsv,.S .rgb-b .§hsv,.S .rgb-r .§hsl,.S .rgb-g .§hsl,.S .rgb-b .§hsl,.S .hsv-h .§rgb,.S .hsv-s .§rgb,.S .hsv-v .§rgb,.S .hsl-h .§rgb,.S .hsl-s .§rgb,.S .hsl-l .§rgb,.S .§cmyk,.S .§Lab{display:none}«§butt,«§labl{float:left;~14¥ä14¥margin-top:2¥text-align:center;border:1px solid}«§butt{?@#555 #222 #222 #555}«§butt:active{ö@#444}«§labl{?@†}«Lab-mode,«cmyk-mode,«hsv-mode,«hsl-mode{|absolute;Ü:0¥top:1¥ä50px}«hsv-mode,«hsl-mode{top:2px}«cmyk-mode{ä68px}.hsl-h .hsl-h-labl,.hsl-s .hsl-s-labl,.hsl-l .hsl-l-labl,.hsv-h .hsv-h-labl,.hsv-s .hsv-s-labl,.hsv-v .hsv-v-labl{@#f90}«cmyk-mode,«hsv-mode,.rgb-r .rgb-r-butt,.rgb-g .rgb-g-butt,.rgb-b .rgb-b-butt,.hsv-h .hsv-h-butt,.hsv-s .hsv-s-butt,.hsv-v .hsv-v-butt,.hsl-h .hsl-h-butt,.hsl-s .hsl-s-butt,.hsl-l .hsl-l-butt,«rgb-r-labl,«rgb-g-labl,«rgb-b-labl,«alpha-butt,«HEX-butt,«Lab-x-labl{?@#222 #555 #555 #222;ö@#444}.no-rgb-r .rgb-r-labl,.no-rgb-g .rgb-g-labl,.no-rgb-b .rgb-b-labl,.mute-alpha .alpha-butt,.no-HEX .HEX-butt,.cmy-only .Lab-x-labl{?@#555 #222 #222 #555;ö@#333}.Lab-x-disp,.cmy-only .cmyk-k-disp,.cmy-only .cmyk-k-butt{visibility:hidden}«HEX-disp{öimage:none}«§disp{float:left;~48¥ä14¥margin:2px 2px 0¥cursor:text;text-align:left;text-indent:3¥?~1¥?style:solid;?@#222 #555 #555 #222}∑ .§nsarrow{|absolute;top:0¥left:-13¥~8¥ä16¥display:none;ö|-87px -23px}∑ .start-change .§nsarrow{display:block}∑ .do-change .§nsarrow{display:block;ö|-87px -36px}.do-change .§disp{cursor:default}«§hide{display:none}«§cont,«§cold{|absolute;top:-5¥left:0¥ä3¥border:1px solid #333}«§cold{z-index:1;ö@#c00}«§cont{margin-Ü:-1¥z-index:2}«contrast .§cont{z-index:1;ö@#ccc}«orange .§cold{ö@#f90}«green .§cold{ö@#4d0}«§ctrl{|absolute;bottom:0¥left:0¥~100%;ö@#fff}.alpha-bg-b .§ctrl,«§bres,«§bsav{ö@#333}«§col1,«§col2,«§bres,«§bsav{?~1¥?style:solid;?@#555 #222 #222 #555;float:left;~45¥line-ä28¥text-align:center;top:0px}.§panel div div{ä100%}.S .§ctrl div{line-ä25px}.S «§bres,.S «§bsav{line-ä26px}∑ .§exit,∑ .§resize{Ü:3¥top:3¥~15¥ä15¥ö|0 -52px}∑ .§resize{top:auto;bottom:3¥cursor:nwse-resize;ö|-15px -52px}.S .§exit{ö|1px -52px}.XS .§resize,.XS .§exit{~10¥ä10¥Ü:0¥öimage:none}.XS .§exit{top:0px}.XS .§resize{bottom:0px}∑ .§resizer,∑ .§resizer div{|absolute;border:1px solid #888;top:-1¥Ü:-1¥bottom:-1¥left:-1¥z-index:2;display:none;cursor:nwse-resize}∑ .§resizer div{border:1px dashed #333;opacity:0.3;display:block;ö@#bbb}'.replace(/Ü/g,"right").replace(/Ö/g,"left}").replace(/∑/g,".§app").replace(/«/g,".§panel .").replace(/¥/g,"px;").replace(/\|/g,"position:").replace(/@/g,"color:").replace(/ö/g,"background-").replace(/ä/g,"height:").replace(/ø/g,".§memo").replace(/†/g,"transparent").replace(/\~/g,"width:").replace(/\?/g,"border-").replace(/\^/g,".§sld"),i="iVBORw0KGgoAAAANSUhEUgAABIAAAAABCAYAAACmC9U0AAABT0lEQVR4Xu2S3Y6CMBCFhyqIsjGBO1/B9/F5DC/pK3DHhVkUgc7Zqus2DVlGU/cnQZKTjznttNPJBABA149HyRf1iN//4mIBCg0jV4In+j9xJiuihly1V/Z9X88v//kNeDXVvyO/lK+IPR76B019+1Riab3H1zkmeqerKnL+Bzwxx6PAgZxaSQU8vB62T28pxcQeRQ2sHw6GxCOWHvP78zwHAARBABOfdYtd30rwxXOEPDF+dj2+91r6vV/id3k+/brrXmaGUkqKhX3i+ffSt16HQ/dorTGZTHrs7ev7Tl7XdZhOpzc651nfsm1bRFF0YRiGaJoGs9nsQuN/xafTCXEco65rzOdzHI9HJEmCqqqwXC6x3++RZRnKssRqtUJRFFiv19jtdthutyAi5Hl+Jo9VZg7+7f3yXuvZf5c3KaXYzByb+WIzO5ymKW82G/0BNcFhO/tOuuMAAAAASUVORK5CYII=",a="iVBORw0KGgoAAAANSUhEUgAAAAEAABfACAYAAABn2KvYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABHtJREFUeNrtnN9SqzAQxpOF1to6zuiVvoI+j6/gva/lA/kKeqUzjtX+QTi7SzSYBg49xdIzfL34+e1usoQQklCnmLwoCjImNwDQA2xRGMqNAYB+gPEH9IdCgIUA6Aem0P1fLoMQAPYNHYDoCKAv8OMHFgKgX2AjDPQDXn4t1l+gt/1fId//yWgE/hUJ+mAn8EyY5wCwXxhrbaHzn8E9iPlv79DdHxXTqciZ4KROnXRVZMF/6U2OPhcEavtAbZH1SM7wRDD7VoHZItCiyEQf4t6+MW9UOxaZybmdCGKqNrB9Eb5SfMg3wTyiagMtigTmWofiSDCOYNTSNz6sLDIoaCU9GWDd0tdhoMMsRm+r8U/EfB0GfjmLXiqzimDd0tdhoLMsI7la45+I+ToM/HIW0kfGVQTrlr7tA91kaUr//fxrKo8jUFB7VAn6AKpHJf+EKwAAAIYD/f7F7/8MVgMo7P+gBqDKr57Lf72V8x8AAMDgYIuvH4EAAAAMDQX6AACAQcI9GGMjDADA4MA/P2KlP8IEAAAYFCz6AACAgaLA8y8AAIN+CMYXoQAADA7u/UPYCAMAMDjI7z9S+SdwDFQX2C9Gh9GMEOWriz8/Pw1lWQZsi/L3R4czzP678Ve+P8f9nCv/C7hwLq99ah8NfKrU15zPB5pVcwtiJt9qGy0IfEE+jQa+Fn0VtI/fkxUPqBlEfRENeF+tqUpbGpi1iu8epwJzvV5XA4GpWC6XGz7F+/u766EgwJ+ckiTJKU3TnI6OjnI6OzvLZf6zMggt3dzckPhIoiTlSGpQ+eEsVegdz0fbCCi4fRs+Po+4yWdeDXiT+6pBSTeHple1pkz3FZ+avpyavoiPxgLN0B7yprY08PlyQTTm0+PWmkH7ynedNKraar4F/lRj1WpTtYh+ozL/cY2sAvZl0gcbZm0gSLBLvkxGoaogiy/HDXemQk2t5pUm8OAhH8/HH6e0mkJ9q9XKKQXfb07xfZnJbZrRxcVFVt6/t7e3Kc1ms5RGo1Eq5VIZuyl9fHw4k/M5xYeoKj64A7eqCt1ZeqWFVSl8NV9OTV3fmvP5qE9VmzSoEcsXpArK1UHen/hZbgL53BZSdyEXalGau/hU8TEW0u3VcoFPy3EDFrTgT+njydeZ0+l0UV7fu7u7iVzziQQmUm4iqRw4n/NxMxw4s/Mp1NSALxf4NEtQ10cjMDwSl+b+/j6hp6enVGb+jUvrn05iKobm6PboOt8vPISY5Pr6OqGXlxe3fOokoGtAbMUJZmqvYmaLQDP+sdrecOjtO/SXeH69P8Imutm5urqy9PDwYOny8tLS4+OjpfPzc0vPz8+WTk9PLb2+vlpZbCzN53NLx8fHVtYZS5PJxMoEZWWqsjKULY3HYytTi1Pex5OMldXKRVXxuLcy/20onmms3BBOxcr5qCrZtsrd45SPel8sGlOxGoGy0neynQ6VL9fsa1YtWlCrtj9G83G7PjdVush5n5q1iJWLZW6u21a1bUvbVnVzlru0pe3RdmlV1/23fZtbZv4Dx+7FBypx77kAAAAASUVORK5CYII=",r="iVBORw0KGgo^NSUhEUgAAB4^EACAI#DdoPxz#L0UlEQVR4Xu3cQWrDQBREwR7FF8/BPR3wXktnQL+KvxfypuEhvLJXcp06d/bXd71OPt+trIw95zr33Z1bk1/fudEv79wa++7OfayZ59wrO2PBzklcGQmAZggAAOBYgAYBmpWRAGg^BGgRofAENgAAN#I0CBA6w8AG^ECABgEa/QH§AI0CNDoDwAY^QIAGAVp/AM§AjQI0OgPAAY^QoEGARn8Aw§CNAjQ+gMABg#BCgQYCmGQmABgAAEKBBgEZ/AM§AjQI0PoDAAY^QoEGARn8AM^IAADQI0+gMABg#BCgQYDWHwAw^gAANAjT6A4AB^BGgQoNEfAD^C#0CtP4AgAE^EaBCgaUYCoAE#RoEKDRHwAw^gAANArT+AIAB^BGgQoNEfAAw^gQIMAjf4AgAE^EaBCg9QcAD^CBAgwCN/gBg§EaBGj0BwAM^IECDAK0/AG§ARoEaJqRAGg^BGgRo9AcAD^CBAgwCtPwBg§EaBGj0BwAD^CNAgQKM/AG§ARoEaP0BAAM^I0CBAoz8AG^ECABgEa/QEAAw^jQIEDrDwAY^QIAGAZpmJACaBw^RoEKD1BwAM^IECDAK0/AG§ARoEaPQHAAw^gQIMArT8AY§BGgRo/QEAAw^jQIECjPwBg§EaBGj9AQAD^CNAgQOsPABg#BAgAYBGv0BAANwCwAAGB6gYeckmpEAa^AEaBGj0BwAM^IECDAK0/AG§ARoEaPQHAAM^I0CBAoz8AY§BGgRo/QEAAw^jQIECjPwAY^QIAGARr9AQAD^CNAgQOsPABg#BAgAYBmmYkABoAAECABgEa/QEAAw^jQIEDrDwAY^QIAGARr9Ac§AjQI0OgPABg#BAgAYBWn8Aw§CNAjQ6A8ABg#BCgQYBGfwD§AI0CND6AwAG^EKBBgKYZCYAG#QoEGARn8Aw§CNAjQ+gMABg#BCgQYBGfwAw^gAANAjT6AwAG^EKBBgNYfAD^C#0CNPoDgAE^EaBCg0R8AM^IAADQK0/gCAAQ^RoEKBpRgKgAQAABGgQoNEfAD^C#0CtP4AgAE^EaBCg0R8AD^CBAgwCN/gCAAQ^RoEKD1BwAM^IECDAI3+AG§ARoEaPQHAAw^gQIMArT8AY§BGgRomsMAM^IAADQK0/gCAAQ^RoEKDRHwAw^gAANO7fQHwAw^gAANArT+AIAB^BGgQoNEfAGg^BGgRo9AcAD^CBAgwCtPwBg§EaBGj0BwAD^RIB+Ntg5iea5AD^DAIwI0CND6AwAG^EKBBgEZ/AKAB#EaBCg0R8AM^IAADQK0/gCAAQ^RoEKDRHwAM^IECDAI3+AIAB^BGgQoPUHAAw^gQIMAjf4AY§BGgRo9AcAD^CBAgwCtPwBg§EaBGiakQBo^ARoEaPQHAAw^gQIMArT8AY§BGgRo9AcAAw^jQIECjPwBg§EaBGj9AQAD^CNAgQKM/ABg#BAgAYBGv0BAAM^I0CBA6w8AG^ECABgGaZiQAGgAAQIAGARr9AQAD^CNAgQOsPABg#BAgAYBGv0Bw§CNAjQ6A8AG^ECABgFafwD§AI0CNDoDwAG^EKBBgEZ/AM§AjQI0PoDAAY^QoEGApjkMAAM^I0CBA6w8AG^ECABgEa/QEAAw^jQsIP+AIAB^BGgQoPUHAAw^gQIMAjf4AgAE#Bea/fK+3P5/3PJOvh8t1cO4nflmQAQoAEAAF9Aw/7JHfQHAAw^gQIMArT8AY§BGvwHNPoDAA0AACBAgwCN/gCAAQ^RoEKD1BwAM^IECDAI3+AG§ARoEaPQHAAw^gQIMArT8AY§BGgRo9AcAAw^jQIECjPwBg§EaBGj9AQAD^CNAgQNOMBEAD#I0CBAoz8AY§BGgRo/QEAAw^jQIECjPwAY^QIAGARr9AQAD^CNAgQOsPABg#BAgAYBGv0Bw§CNAjQ6A8AG^ECABgFafwD§AI0CNA0IwHQ^AjQI0OgPABg#BAgAYBWn8Aw§CNAjQ6A8ABg#BCgQYBGfwD§AI0CND6AwAG^EKBBgEZ/AD^C#0CNPoDAAY^QoEGA1h8AM^IAADQI0DQAG^EKBBgEZ/AM§AjQI0PoDAAY^QoEGA1h8AM^IAADQI0+gMABg#BCgQYDWHwAw^gAANArT+AIAB^BGgQoNEfAD^C#0CtP4AgAE^EaBCg9QcAD^CBAgwCN/gCAAQ^RoEKD1BwAM^IECDAK0/AG§ARoEaPQHAAw^gQIMArT8AY§BGgRo/QEAAw^jQIECjPwBgACDhFgC#07t9AfAD^C#0CtP4AgAE^EaBCg0R8Aa^AEaBGj0BwAM^IECDAK0/AG§ARoEaPQHAAM^I0CBAoz8AY§BGgRo/QEAAw^jQIECjPwAY^QIAGARr9AQAD^CNAgQOsPABg#BAgAYBmmYkABoAAECABgEa/QEAAw^jQIEDrDwAY^QIAGARr9Ac§AjQI0OgPABg#BAgAYBWn8Aw§CNAjQ6A8ABg#BCgQYBGfwD§AI0CND6AwAG^EKBBgKYZCYAG#QoEGARn8Aw§CNAjQ+gMABg#BCgQYBGfwAw^gAANAjT6AwAG^EKBBgNYfAD^C#0CNPoDgAE^EaBCg0R8AM^IAADQK0/gCAAQ^RoEKBpRgKgAQAABGgQoNEfAD^C#0CtP4AgAE^EaBCg0R8AD^CBAgwCN/gCAAQ^RoEKD1BwAM^IECDAI3+AG§ARoEaPQHAAw^gQIMArT8AY§BGgRommEAM^CBAgwCN/gCAAQ^RoEKD1BwAM^IECDAI3+AIAB^ARoEaPQHAAw^gQIMArT8AY§BGgRo9AcAGgAAQICGCNBfRfNcABg#BgeICGnVvoDwAY^QIAGAVp/AM§AjQI0OgPADQAAIAADQI0+gMABg#BCgQYDWHwAw^gAANAjT6A4AB^BGgQoNEfAD^C#0CtP4AgAE^EaBCg0R8AD^CBAgwCN/gCAAQ^RoEKD1BwAM^IECDAE0zEgAN#gQIMAjf4AgAE^EaBCg9QcAD^CBAgwCN/gBg§EaBGj0BwAM^IECDAK0/AG§ARoEaPQHAAM^I0CBAoz8AY§BGgRo/QEAAw^jQIEDTjARAAwAACNAgQKM/AG§ARoEaP0BAAM^I0CBAoz8AG^ECABgEa/QEAAw^jQIEDrDwAY^QIAGARr9Ac§AjQI0OgPABg#BAgAYBWn8Aw§CNAjQNIcBY§BGgRo/QEAAw^jQIECjPwBg§EadtAfAD^C#0CtP4AgAE^EaBCgAQABGgAA+AO2TAbHupOgH^ABJRU5ErkJggg==".replace(/§/g,"AAAAAA").replace(/\^/g,"AAAA").replace(/#/g,"AAA"),s="iVBORw0KGgoAAAANSUhEUgAAAGEAAABDCAMAAAC7vJusAAAAkFBMVEUAAAAvLy9ERERubm7///8AAAD///9EREREREREREREREQAAAD///8AAAD///8AAAD///8AAAD///8AAAD///8AAAD///8AAAD///8AAAD///8AAAD///8cHBwkJCQnJycoKCgpKSkqKiouLi4vLy8/Pz9AQEBCQkJDQ0NdXV1ubm58fHykpKRERERVVVUzMzPx7Ab+AAAAHXRSTlMAAAAAAAQEBQ4QGR4eIyMtLUVFVVVqapKSnJy7u9JKTggAAAFUSURBVHja7dXbUoMwEAbgSICqLYeW88F6KIogqe//dpoYZ0W4AXbv8g9TwkxmvtndZMrEwlw/F8YIRjCCEYxgBCOsFmzqGMEI28J5zzmt0Pc9rdDL0NYgMxIYC5KiKpKAzZphWtZlGm4SjlnkOV6UHeeEUx77rh/npw1dCrI9k9lnwUwF+UG9D3m4ftJJxH4SJdPtaawXcbr+tBaeFrxiur309cIv19+4ytGCU0031a5euPVigLYGqjlAqM4ShOQ+QAYQUO80AMMAAkUGGfMfR9Ul+kmvPq2QGxXKOQBAKdjUgk0t2NiCGEVP+rHT3/iCUMBT90YrPMsKsIWP3x/VolaonJEETchHCS8AYAmaUICQQwaAQnjoXgHAES7jLkEFaHO4bdq/k25HAIpgWY34FwAE5xjCffM+D2DV8B0gRsAZT7hr5gE8wdrJcU+CJqhcqQD7Cx5L7Ph4WnrKAAAAAElFTkSuQmCC",c="iVBORw0KGgoAAAANSUhEUgAAASAAAABvCAYAAABM+h2NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABORJREFUeNrs3VtTW1UYBuCEcxAI4YydWqTWdqr1V7T/2QsvvPDCCy9qjxZbamsrhZIQUHsCEtfafpmJe8qFjpUxfZ4Zuvt2feydJvAOARZUut1u5bRerl692nV913f99/f6QxWAU6KAAAUEKCAABQQoIAAFBCggAAUEKCAABQQoIAAFBCggAAUEKCAABQQoIEABASggQAEBKCBAAQEoIEABASggQAEBKCBAAQEoIGBQC+jatWvd07zxrv9+Xx8fAQEoIEABASggQAEBKCBAAQEoIEABAQoIQAEBCghAAQEKCEABAQOk2u36kS6AAgLetwJKL29toFRM1be+QrVq3rx58//KvM8BAadGAQEKCFBAAAoIGHwnfhneZ+/Nmzf/LufzrI+AAE/BAAUEoIAABQTwztgLZt68eXvBAE/BABQQoIAAFBAweOwFM2/evL1ggKdgAAoIUEAACggYPPaCmTdv3l4wwFMwAAUEKCAABQQMHnvBzJs3by8Y4CkYgAICFBCAAgIGz4lfBQNQQMDgFlCtVisaaHV1tThubW1VInciD0U+ysdnz54N5+PKysphOnRTHsvHlN9EHo/1l5FrkV9Enoz8W87b29tTOS8vLx9EnoncjlyPvBe5EbkZeT4fU96NvBDr2znv7Ows57y0tLQVeSXy08gf5mNfPhPrjyOfrVarlcXFxZ9yfv78+bl8TPlh5LU8n/KDyOuxfj/y+VjfyHl3d/dCKv28fi/yp/m4sLDwQ+SLke9GvhT5Tinfjnw5f4/F/Pz8rZybzeZn+ZjyzVK+EfnzUr4S+Xopf9/L+fxzc3M5d1qt1hf531Mu5k/IxzGf85VYL+fefHH+RqNRrO/t7RW3L+UbkS9Hvhk5/386Kd/qW8/5duRLMV/OdyJfzNebnZ0t7t92u53v/07K9yJfiLwROT9+ef7HyOux/iDyWuSHkT+K+eLtZX9//2xer9frjyOfyY9/Wn8S86v59qT1p7Ge315zLt4RU16K19+O9YXIu5HnYn435hux3opcj9yOPB3z+5E/iPXf43y1yMX778HBQS3f3pTz+28l5bHIr2N+LN3+zszMzGHkoh/S+mHMF98XlNaP8zHd/0W/pMe943NAwKlSQIACAhQQgAICFBCAAgIUEIACAhQQgAIC/n9GqtXqYbfbHa38+RtSu32llPdqdNL6aOSj+LfxyMVekLTem39Ryr/mPDQ0NBznzXtROikPRW6W8k7k3m9rzXthOsPDw73bUuylGRkZ6cR63nvTSfko8oPIr+Pnz96P/DLW816ezujoaN6DdtyX9+P8eS9QZ2xs7Hxf7qa8Xlr/JO6Ljcjrcf6cj1P+OO+N6V1/fHz8XLz+/Tjfubh+sZcorZ+N9Ycxfybyo8ircf6fc56YmFiJ1/8l8mLk7cjzkfP92U15Ns63G+u9nPcKdWq12lQ8Xu3Ixd6f9Pd8P3UmJycnUszzL2N9LM7/anNzs9V7Q2q32395w/q7ubdH6L/KrVbrpPxlKX9Vyl+X8jel/G0pf5f/aDabvXy9tH6ztH63lDdKebOUH5Xyk1LeKuWd/ry2tlap9P125Onp6Zf9eWpq6lW3b8f6zMzM6/71er3+ppSP+u/XNN/pz41Go+sjIMBTMEABASggQAEBKCBAAQEoIEABASggQAEB/CN/CDAAw78uW9AVDw4AAAAASUVORK5CYII=",l="iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQI12P4//8/MwAI/wMBbrqo4gAAAABJRU5ErkJggg==";t.ColorPicker={_html:e,_cssFunc:o,_cssMain:n,_horizontalPng:i,_verticalPng:a,_patchesPng:r,_iconsPng:s,_bgsPng:c,_blankPng:l}}(window),function(t,e){"use strict";function o(t,o){var i,l,d="",g="",u=[];for(var p in o)t.options[p]=o[p];F=new Colors(t.options),delete t.options,tt=F.options,tt.scale=1,g=tt.CSSPrefix,t.color=F,O=tt.valueRanges,t.nodes=et=r(a(t),t),A(tt.mode),n(t),y(),d=" "+tt.mode.type+"-"+tt.mode.z,et.slds.className+=d,et.panel.className+=d,tt.noHexButton&&M(et.HEX_butt,g+"butt",g+"labl"),tt.size!==e&&m(e,tt.size),l={alphaBG:et.alpha_labl,cmyOnly:et.HEX_labl};for(var h in l)tt[h]!==e&&f({target:l[h],data:tt[h]});tt.noAlpha&&(et.colorPicker.className+=" no-alpha"),i=tt.memoryColors,"string"==typeof i&&(i=i.replace(/^'|'$/g,"").replace(/\s*/,"").split("','"));for(var h=et.memos.length;h--;)i&&"string"==typeof i[h]&&(u=i[h].replace("rgba(","").replace(")","").split(","),i[h]={r:u[0],g:u[1],b:u[2],a:u[3]}),et.memos[h].style.cssText="background-color: "+(i&&i[h]!==e?B(i[h])+";"+k(i[h].a||1):"rgb(0,0,0);");s(t),$=!0,c(e,"init"),X&&(n(X),x())}function n(t){K=!0,L!==t&&(L=t,q=t.color.colors,tt=t.color.options,et=t.nodes,F=t.color,V={},C(q))}function i(){var t=["L","S","XS","XXS"];tt.sizes={},et.testNode.style.cssText="position:absolute;left:-1000px;top:-1000px;",document.body.appendChild(et.testNode);for(var e=t.length;e--;)et.testNode.className=tt.CSSPrefix+"app "+t[e],tt.sizes[t[e]]=[et.testNode.offsetWidth,et.testNode.offsetHeight];et.testNode.removeNode?et.testNode.removeNode(!0):document.body.removeChild(et.testNode)}function a(t){var e=document.createElement("div"),o=tt.CSSPrefix,n="data:image/png;base64,",i=function(t,e){var o=document.createElement("style");o.setAttribute("type","text/css"),e&&o.setAttribute("id",e),o.styleSheet||o.appendChild(document.createTextNode(t)),document.getElementsByTagName("head")[0].appendChild(o),o.styleSheet&&(document.styleSheets[document.styleSheets.length-1].cssText=t)},a=function(t){z._cssFunc=z._cssFunc.replace(/§/g,o).replace("_patches.png",t?n+z._patchesPng:tt.imagePath+"_patches.png").replace("_vertical.png",t?n+z._verticalPng:tt.imagePath+"_vertical.png").replace("_horizontal.png",t?n+z._horizontalPng:tt.imagePath+"_horizontal.png"),i(z._cssFunc,"colorPickerCSS"),tt.customCSS||(z._cssMain=z._cssMain.replace(/§/g,o).replace("_bgs.png",t?n+z._bgsPng:tt.imagePath+"_bgs.png").replace("_icons.png",t?n+z._iconsPng:tt.imagePath+"_icons.png").replace("_blank.png",H?tt.imagePath+"_blank.cur":n+z._blankPng).replace(/opacity:(\d*\.*(\d+))/g,function(t,e){return Y?"-moz-opacity: "+e+"; -khtml-opacity: "+e+"; opacity: "+e:'-ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity='+Math.round(100*+e)+')";filter: alpha(opacity='+Math.round(100*+e)+")"}),i(z._cssMain));for(var e in z)z[e]=null},r=document.createElement("img");return j?t.color.options.devPicker:((X=L)&&h(),e.innerHTML=L?L.nodes.colorPicker.outerHTML:z._html.replace(/§/g,o),document.getElementById("colorPickerCSS")||(r.onload=r.onerror=function(){z._cssFunc&&a(1===this.width&&1===this.height)},r.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="),e=e.children[0],e.style.cssText=tt.initStyle||"",(tt.appenTo||document.body).appendChild(e))}function r(t){var e,o,n=t.getElementsByTagName("*"),i={colorPicker:t},a=new RegExp(tt.CSSPrefix);i.styles={},i.textNodes={},i.memos=[],i.testNode=document.createElement("div");for(var r=0,s=n.length;s>r;r++)e=n[r],(o=e.className)&&a.test(o)?(o=o.split(" ")[0].replace(tt.CSSPrefix,"").replace(/-/g,"_"),/_disp/.test(o)?(o=o.replace("_disp",""),i.styles[o]=e.style,i.textNodes[o]=e.firstChild,e.contentEditable=!0):(/(?:hs|cmyk|Lab).*?(?:butt|labl)/.test(o)||(i[o]=e),/(?:cur|sld[^s]|opacity|cont|col)/.test(o)&&(i.styles[o]=/(?:col\d)/.test(o)?e.children[0].style:e.style))):/memo/.test(e.parentNode.className)&&i.memos.push(e);return i}function s(o,a){var r=a?Q:R;r(et.colorPicker,"mousedown",function(a){var r=a||t.event,s=P(r),p=r.target||r.srcElement,f=p.className;return n(o),T=p,c(e,"resetEventListener"),p===et.sldl_3||p===et.curm?(T=et.sldl_3,$=l,M(et.slds,"do-drag")):/sldr/.test(f)||p===et.curl||p===et.curr?(T=et.sldr_4,$=d):p===et.opacity.children[0]||p===et.opacity_slider?(T=et.opacity,$=g):/-disp/.test(f)&&!/HEX-/.test(f)?($=u,(3===p.nextSibling.nodeType?p.nextSibling.nextSibling:p.nextSibling).appendChild(et.nsarrow),D=f.split("-disp")[0].split("-"),D={type:D[0],z:D[1]||""},M(et.panel,"start-change"),J=0):p!==et.resize||tt.noResize?$=e:(tt.sizes||i(),T=et.resizer,$=m),$&&(_={pageX:s.X,pageY:s.Y},T.style.display="block",Z=I(T),Z.width=et.opacity.offsetWidth,Z.childWidth=et.opacity_slider.offsetWidth,T.style.display="",$(r),R(H?document.body:t,"mousemove",$),N=t[nt](x)),/-disp/.test(f)?void 0:S(r)}),r(et.colorPicker,"click",function(t){n(o),f(t)}),r(et.colorPicker,"dblclick",f),r(et.colorPicker,"keydown",function(t){n(o),p(t)}),r(et.colorPicker,"keypress",p),r(et.colorPicker,"paste",function(t){return t.target.firstChild.data=t.clipboardData.getData("Text"),S(t)})}function c(o,n){var i=$;$&&(t[it](N),Q(H?document.body:t,"mousemove",$),J&&(D={type:"alpha"},x()),("function"==typeof $||"number"==typeof $)&&delete tt.webUnsave,J=1,$=e,M(et.slds,"do-drag",""),M(et.panel,"(?:start-change|do-change)",""),et.resizer.style.cssText="",et.memo_store.style.cssText="background-color: "+B(q.RND.rgb)+"; "+k(q.alpha),et.memo.className=et.memo.className.replace(/\s+(?:dark|light)/,"")+(q["rgbaMix"+U[tt.alphaBG]].luminance<.22?" dark":" light"),D=e,b(),tt.actionCallback&&tt.actionCallback(o,i.name||n||"external"))}function l(e){var o=e||t.event,n=tt.scale,i=P(o),a=(i.X-Z.left)*(4===n?2:n),r=(i.Y-Z.top)*n,s=tt.mode;return q[s.type][s.x]=w(a/255,0,1),q[s.type][s.y]=1-w(r/255,0,1),v(),S(o)}function d(e){var o=e||t.event,n=P(o),i=(n.Y-Z.top)*tt.scale,a=tt.mode;return q[a.type][a.z]=1-w(i/255,0,1),v(),S(o)}function g(e){var o=e||t.event,n=P(o);return K=!0,q.alpha=w(Math.round((n.X-Z.left)/Z.width*100),0,100)/100,v("alpha"),S(o)}function u(e){var o,n=e||t.event,i=P(n),a=_.pageY-i.Y,r=tt.delayOffset,s=D.type,c="alpha"===s;return J||Math.abs(a)>=r?(J||(J=(a>0?-r:r)+ +T.firstChild.data*(c?100:1),_.pageY+=J,a+=J,J=1,M(et.panel,"start-change","do-change"),t.getSelection?t.getSelection().removeAllRanges():document.selection.empty(),document.activeElement.blur(),N=t[nt](x)),"cmyk"===s&&tt.cmyOnly&&(s="cmy"),c?(K=!0,q.alpha=w(a/100,0,1)):(o=O[s][D.z],q[s][D.z]="Lab"===s?w(a,o[0],o[1]):w(a/o[1],0,1)),v(c?"alpha":s),
S(n)):void 0}function p(o){var n,i=o||t.event,a=i.which||i.keyCode,r=String.fromCharCode(a),s=document.activeElement,l=s.className.replace(tt.CSSPrefix,"").split("-"),d=l[0],g=l[1],u="alpha"===d,p="HEX"===d,f={k40:-1,k38:1,k34:-10,k33:10}["k"+a]/(u?100:1),m={HEX:/[0-9a-fA-F]/,Lab:/[\-0-9]/,alpha:/[\.0-9]/}[d]||/[0-9]/,A=O[d][d]||O[d][g],h=s.firstChild,b=G(s),y=h.data,x="0"!==y||p?y.split(""):[];return/^(?:27|13)$/.test(a)?s.blur():"keydown"===i.type?(f?n=w(Math.round(1e6*(+y+f))/1e6,A[0],A[1]):/^(?:8|46)$/.test(a)&&(b.range||(b.range++,b.start-=8===a?1:0),x.splice(b.start,b.range),n=x.join("")||"0"),n!==e&&S(i,!0)):"keypress"===i.type&&(/^(?:37|39|8|46|9)$/.test(a)||S(i,!0),m.test(r)&&(x.splice(b.start,b.range,r),n=x.join("")),b.start++),13===a&&p?h.data.length%3===0||"0"===h.data?L.setColor("0"===h.data?"000":h.data,"rgb",q.alpha,!0):(S(i,!0),s.focus()):(p&&n!==e&&(n=/^0+/.test(n)?n:parseInt(""+n,16)||0),void(n!==e&&""!==n&&+n>=A[0]&&+n<=A[1]&&(p&&(n=n.toString(16).toUpperCase()||"0"),u?q[d]=+n:p||(q[d][g]=+n/("Lab"===d?1:A[1])),v(u?"alpha":d),C(q),$=!0,c(o,i.type),h.data=n,G(s,Math.min(s.firstChild.data.length,b.start<0?0:b.start)))))}function f(o){var n,i,a=o||t.event,r=a.target||a.srcElement,s=r.className,l=r.parentNode,d=tt,g=q.RND.rgb,u=tt.mode,p="",f=d.CSSPrefix,m=/(?:hs|rgb)/.test(l.className)&&/^[HSBLRG]$/.test(r.firstChild?r.firstChild.data:""),A=/dblc/.test(a.type),h="";if(!A||m){if(-1!==s.indexOf("-labl "+f+"labl"))M(et[s.split("-")[0]],f+"hide",""),M(et[l.className.split("-")[1]],f+"hide");else if(-1!==s.indexOf(f+"butt"))if(m)A&&2===tt.scale&&(p=/hs/.test(u.type)?"rgb":/hide/.test(et.hsl.className)?"hsv":"hsl",p=p+"-"+p[u.type.indexOf(u.z)]),L.setMode(p?p:s.replace("-butt","").split(" ")[0]),h="modeChange";else if(/^[rgb]/.test(s))p=s.split("-")[1],M(et.colorPicker,"no-rgb-"+p,(d["noRGB"+p]=!d["noRGB"+p])?e:""),h="noRGB"+p;else if(r===et.alpha_labl)n=d.customBG,i=d.alphaBG,M(et.colorPicker,"alpha-bg-"+i,"alpha-bg-"+(i=d.alphaBG=o.data||("w"===i?n?"c":"b":"c"===i?"b":"w"))),r.firstChild.data=i.toUpperCase(),et.ctrl.style.backgroundColor=et.memo.style.backgroundColor="c"!==i?"":"rgb("+Math.round(255*n.r)+", "+Math.round(255*n.g)+", "+Math.round(255*n.b)+")",et.raster.style.cssText=et.raster_bg.previousSibling.style.cssText="c"!==i?"":k(n.luminance<.22?.5:.4),h="alphaBackground";else if(r===et.alpha_butt)M(et.colorPicker,"mute-alpha",(d.muteAlpha=!d.muteAlpha)?e:""),h="alphaState";else if(r===et.HEX_butt)M(et.colorPicker,"no-HEX",(d.HEXState=!d.HEXState)?e:""),h="HEXState";else if(r===et.HEX_labl){var b="web save"===q.saveColor;"web smart"===q.saveColor||b?b?L.setColor(d.webUnsave,"rgb"):(d.webUnsave||(d.webUnsave=E(g)),L.setColor(q.webSave,"rgb")):(d.webUnsave=E(g),L.setColor(q.webSmart,"rgb")),h="webColorState"}else/Lab-x-labl/.test(s)&&(M(et.colorPicker,"cmy-only",(d.cmyOnly=!d.cmyOnly)?e:""),h="cmykState");else if(r===et.bsav)y(),h="saveAsBackground";else if(r===et.bres){var x=E(g),B=q.alpha;L.setColor(d.color),y(),L.setColor(x,"rgb",B),h="resetColor"}else if(l===et.col1)q.hsv.h-=q.hsv.h>.5?.5:-.5,v("hsv"),h="shiftColor";else if(l===et.col2)L.setColor(r.style.backgroundColor,"rgb",q.background.alpha),h="setSavedColor";else if(l===et.memo){var w=function(){et.memos.blinker&&(et.memos.blinker.style.cssText=et.memos.cssText)},S=function(e){et.memos.blinker=e,e.style.cssText="background-color:"+(q.RGBLuminance>.22?"#333":"#DDD"),t.setTimeout(w,200)};if(r===et.memo_cursor){w(),et.memos.blinker=e,et.testNode.style.cssText=et.memo_store.style.cssText,et.memos.cssText=et.testNode.style.cssText;for(var I=et.memos.length-1;I--;)if(et.memos.cssText===et.memos[I].style.cssText){S(et.memos[I]);break}if(!et.memos.blinker){for(var I=et.memos.length-1;I--;)et.memos[I+1].style.cssText=et.memos[I].style.cssText;et.memos[0].style.cssText=et.memo_store.style.cssText}h="toMemery"}else w(),L.setColor(r.style.backgroundColor,"rgb",r.style.opacity||1),et.memos.cssText=r.style.cssText,S(r),$=1,h="fromMemory"}h&&(C(q),$=$||!0,c(o,h))}}function m(o,n){var i,a=o||t.event,r=a?P(a):{},s=n!==e,c=s?n:r.X-Z.left+8,l=s?n:r.Y-Z.top+8,d=[" S XS XXS"," S XS"," S",""],g=tt.sizes,u=s?n:l<g.XXS[1]+25?0:c<g.XS[0]+25?1:c<g.S[0]+25||l<g.S[1]+25?2:3,p=d[u],f=!1,m="";V.resizer!==p&&(f=/XX/.test(p),i=tt.mode,!f||/hs/.test(i.type)&&"h"!==i.z?i.original&&L.setMode(i.original):(m=i.type+"-"+i.z,L.setMode(/hs/.test(i.type)?i.type+"-s":"hsv-s"),tt.mode.original=m),et.colorPicker.className=et.colorPicker.className.replace(/\s+(?:S|XS|XXS)/g,"")+p,tt.scale=f?4:/S/.test(p)?2:1,tt.currentSize=u,V.resizer=p,K=!0,x(),b()),et.resizer.style.cssText="display: block;width: "+(c>10?c:10)+"px;height: "+(l>10?l:10)+"px;"}function A(t){var e={rgb_r:{x:"b",y:"g"},rgb_g:{x:"b",y:"r"},rgb_b:{x:"r",y:"g"},hsv_h:{x:"s",y:"v"},hsv_s:{x:"h",y:"v"},hsv_v:{x:"h",y:"s"},hsl_h:{x:"s",y:"l"},hsl_s:{x:"h",y:"l"},hsl_l:{x:"h",y:"s"}},o=t.replace("-","_"),n="\\b(?:rg|hs)\\w\\-\\w\\b";return M(et.panel,n,t),M(et.slds,n,t),t=t.split("-"),tt.mode={type:t[0],x:e[o].x,y:e[o].y,z:t[1]}}function h(){var t=/\s+(?:hue-)*(?:dark|light)/g;et.curl.className=et.curl.className.replace(t,""),et.curr.className=et.curr.className.replace(t,""),et.slds.className=et.slds.className.replace(t,""),et.sldr_2.className=tt.CSSPrefix+"sldr-2",et.sldr_4.className=tt.CSSPrefix+"sldr-4",et.sldl_3.className=tt.CSSPrefix+"sldl-3";for(var e in et.styles)e.indexOf("sld")||(et.styles[e].cssText="");V={}}function b(){et.styles.curr.cssText=et.styles.curl.cssText,et.curl.className=tt.CSSPrefix+"curl"+(W.noRGBZ?" "+tt.CSSPrefix+"curl-"+W.noRGBZ:""),et.curr.className=tt.CSSPrefix+"curr "+tt.CSSPrefix+"curr-"+("h"===tt.mode.z?W.HUEContrast:W.noRGBZ?W.noRGBZ:W.RGBLuminance)}function v(t){C(F.setColor(e,t||tt.mode.type)),K=!0}function y(t){return F.saveAsBackground(),et.styles.col2.cssText="background-color: "+B(q.background.RGB)+";"+k(q.background.alpha),t&&C(q),q}function C(t){var o=W,n=U[tt.alphaBG];o.hueDelta=Math.round(100*t["rgbaMixBGMix"+n].hueDelta),o.luminanceDelta=Math.round(100*t["rgbaMixBGMix"+n].luminanceDelta),o.RGBLuminance=t.RGBLuminance>.22?"light":"dark",o.HUEContrast=t.HUELuminance>.22?"light":"dark",o.contrast=o.luminanceDelta>o.hueDelta?"contrast":"",o.readabiltiy=t["rgbaMixBGMix"+n].WCAG2Ratio>=7?"green":t["rgbaMixBGMix"+n].WCAG2Ratio>=4.5?"orange":"",o.noRGBZ=tt["no"+tt.mode.type.toUpperCase()+tt.mode.z]?"g"===tt.mode.z&&t.rgb.g<.59||"b"===tt.mode.z||"r"===tt.mode.z?"dark":"light":e}function x(){if($){if(!K)return N=t[nt](x);K=!1}var o,n,i,a,r=tt,s=q,c=W,g=V,u=r.mode,p=et,f=r.CSSPrefix,m=O,A=D,h=p.styles,b=p.textNodes,v=tt.scale,y=s[u.type][u.x],C=Math.round(255*y/(4===v?2:v)),E=s[u.type][u.y],w=1-E,S=Math.round(255*w/v),M=1-s[u.type][u.z],I=Math.round(255*M/v),P=[y,E],R=0,Q=0,G="rgb"===u.type,L="h"===u.z,X="hsl"===u.type,z=X&&"s"===u.z,j=$===l,H=$===d;G&&(P[0]>=P[1]?Q=1:R=1,g.sliderSwap!==R&&(p.sldr_2.className=r.CSSPrefix+"sldr-"+(3-R),g.sliderSwap=R)),(G&&!H||L&&!j||!L&&!H)&&(h[L?"sldl_2":"sldr_2"][G?"cssText":"backgroundColor"]=G?k((P[R]-P[Q])/(1-P[Q]||0)):B(s.hueRGB)),L||(H||(h.sldr_4.cssText=k(G?P[Q]:z?Math.abs(1-2*w):w)),j||(h.sldl_3.cssText=k(X&&"l"===u.z?Math.abs(1-2*M):M)),X&&(a=z?"sldr_4":"sldl_3",n=z?"r-":"l-",i=z?w>.5?4:3:M>.5?3:4,g[a]!==i&&(p[a].className=r.CSSPrefix+"sld"+n+i,g[a]=i))),H||(h.curm.cssText="left: "+C+"px; top: "+S+"px;"),j||(h.curl.top=I+"px"),A&&(h.curr.top=I+"px"),(A&&"alpha"===A.type||T===p.opacity)&&(h.opacity_slider.left=r.opacityPositionRelative?s.alpha*((Z.width||p.opacity.offsetWidth)-(Z.childWidth||p.opacity_slider.offsetWidth))+"px":100*s.alpha+"%"),h.col1.cssText="background-color: "+B(s.RND.rgb)+"; "+(r.muteAlpha?"":k(s.alpha)),h.opacity.backgroundColor=B(s.RND.rgb),h.cold.width=c.hueDelta+"%",h.cont.width=c.luminanceDelta+"%";for(o in b)n=o.split("_"),r.cmyOnly&&(n[0]=n[0].replace("k","")),i=n[1]?s.RND[n[0]][n[1]]:s.RND[n[0]]||s[n[0]],g[o]!==i&&(g[o]=i,b[o].data=i>359.5&&"HEX"!==o?0:i,"HEX"===o||r.noRangeBackground||(i=s[n[0]][n[1]]!==e?s[n[0]][n[1]]:s[n[0]],"Lab"===n[0]&&(i=(i-m[n[0]][n[1]][0])/(m[n[0]][n[1]][1]-m[n[0]][n[1]][0])),h[o].backgroundPosition=Math.round(100*(1-i))+"% 0%"));n=s._rgb?[s._rgb.r!==s.rgb.r,s._rgb.g!==s.rgb.g,s._rgb.b!==s.rgb.b]:[],n.join("")!==g.outOfGammut&&(p.rgb_r_labl.firstChild.data=n[0]?"!":" ",p.rgb_g_labl.firstChild.data=n[1]?"!":" ",p.rgb_b_labl.firstChild.data=n[2]?"!":" ",g.outOfGammut=n.join("")),c.noRGBZ&&g.noRGBZ!==c.noRGBZ&&(p.curl.className=f+"curl "+f+"curl-"+c.noRGBZ,H||(p.curr.className=f+"curr "+f+"curr-"+c.noRGBZ),g.noRGBZ=c.noRGBZ),g.HUEContrast!==c.HUEContrast&&"h"===u.z?(p.slds.className=p.slds.className.replace(/\s+hue-(?:dark|light)/,"")+" hue-"+c.HUEContrast,H||(p.curr.className=f+"curr "+f+"curr-"+c.HUEContrast),g.HUEContrast=c.HUEContrast):g.RGBLuminance!==c.RGBLuminance&&(p.colorPicker.className=p.colorPicker.className.replace(/\s+(?:dark|light)/,"")+" "+c.RGBLuminance,H||"h"===u.z||c.noRGBZ||(p.curr.className=f+"curr "+f+"curr-"+c.RGBLuminance),g.RGBLuminance=c.RGBLuminance),(g.contrast!==c.contrast||g.readabiltiy!==c.readabiltiy)&&(p.ctrl.className=p.ctrl.className.replace(" contrast","").replace(/\s*(?:orange|green)/,"")+(c.contrast?" "+c.contrast:"")+(c.readabiltiy?" "+c.readabiltiy:""),g.contrast=c.contrast,g.readabiltiy=c.readabiltiy),g.saveColor!==s.saveColor&&(p.HEX_labl.firstChild.data=s.saveColor?"web save"===s.saveColor?"W":"M":"!",g.saveColor=s.saveColor),r.renderCallback&&r.renderCallback(s,u),$&&(N=t[nt](x))}function E(t){var e={};for(var o in t)e[o]=t[o];return e}function B(t,e){for(var o="",n=(e||"rgb").split(""),i=n.length;i--;)o=", "+t[n[i]]+o;return(e||"rgb")+"("+o.substr(2)+")"}function w(t,e,o){return t>o?o:e>t?e:t}function k(t){return t===e&&(t=1),Y?"opacity: "+Math.round(1e10*t)/1e10+";":"filter: alpha(opacity="+Math.round(100*t)+");"}function S(e,o){return e.preventDefault?e.preventDefault():e.returnValue=!1,o||(t.getSelection?t.getSelection().removeAllRanges():document.selection.empty()),!1}function M(t,o,n){return!!t&&(t.className=n!==e?t.className.replace(new RegExp("\\s+?"+o,"g"),n?" "+n:""):t.className+" "+o)}function I(e){var o=e.getBoundingClientRect?e.getBoundingClientRect():{top:0,left:0},n=e&&e.ownerDocument,i=n.body,a=n.defaultView||n.parentWindow||t,r=n.documentElement||i.parentNode,s=r.clientTop||i.clientTop||0,c=r.clientLeft||i.clientLeft||0;return{left:o.left+(a.pageXOffset||r.scrollLeft)-c,top:o.top+(a.pageYOffset||r.scrollTop)-s}}function P(t){return{X:t.pageX||t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,Y:t.pageY||t.clientY+document.body.scrollTop+document.documentElement.scrollTop}}function R(t,e,o){R.cache=R.cache||{_get:function(t,e,o,n){for(var i=R.cache[e]||[],a=i.length;a--;)if(t===i[a].obj&&""+o==""+i[a].func)return o=i[a].func,n||(i[a]=i[a].obj=i[a].func=null,i.splice(a,1)),o},_set:function(t,e,o){var n=R.cache[e]=R.cache[e]||[];return!!R.cache._get(t,e,o,!0)||void n.push({func:o,obj:t})}},!o.name&&R.cache._set(t,e,o)||"function"!=typeof o||(t.addEventListener?t.addEventListener(e,o,!1):t.attachEvent("on"+e,o))}function Q(t,e,o){"function"==typeof o&&(o.name||(o=R.cache._get(t,e,o)||o),t.removeEventListener?t.removeEventListener(e,o,!1):t.detachEvent("on"+e,o))}function G(o,n){var i={};if(n===e){if(t.getSelection){o.focus();var a=t.getSelection().getRangeAt(0),r=a.cloneRange();r.selectNodeContents(o),r.setEnd(a.endContainer,a.endOffset),i={end:r.toString().length,range:a.toString().length}}else{o.focus();var a=document.selection.createRange(),r=document.body.createTextRange();r.moveToElementText(o),r.setEndPoint("EndToEnd",a),i={end:r.text.length,range:a.text.length}}return i.start=i.end-i.range,i}if(-1==n&&(n=o.text().length),t.getSelection)o.focus(),t.getSelection().collapse(o.firstChild,n);else{var s=document.body.createTextRange();s.moveToElementText(o),s.moveStart("character",n),s.collapse(!0),s.select()}return n}var $,T,D,N,L,X,z=t.ColorPicker,j=!z,H=document.createStyleSheet!==e&&document.getElementById||!!t.MSInputMethodContext,Y="undefined"!=typeof document.body.style.opacity,O={},U={w:"White",b:"Black",c:"Custom"},J=1,_={},Z={},K=!0,W={},V={},F={},q={},tt={},et={},ot="AnimationFrame",nt="request"+ot,it="cancel"+ot,at=["ms","moz","webkit","o"],rt=function(t){this.options={color:"rgba(204, 82, 37, 0.8)",mode:"rgb-b",fps:60,delayOffset:8,CSSPrefix:"cp-",allMixDetails:!0,alphaBG:"w",imagePath:""},o(this,t||{})};t.ColorPicker=rt,rt.addEvent=R,rt.removeEvent=Q,rt.getOrigin=I,rt.limitValue=w,rt.changeClass=M,rt.prototype.setColor=function(t,e,o,i){n(this),D=!0,C(F.setColor.apply(F,arguments)),i&&this.startRender(!0)},rt.prototype.saveAsBackground=function(){return n(this),y(!0)},rt.prototype.setCustomBackground=function(t){return n(this),F.setCustomBackground(t)},rt.prototype.startRender=function(e){n(this),e?($=!1,x(),this.stopRender()):($=1,N=t[nt](x))},rt.prototype.stopRender=function(){n(this),t[it](N),D&&($=1,c(e,"external"))},rt.prototype.setMode=function(t){n(this),A(t),h(),x()},rt.prototype.destroyAll=function(){var t=this.nodes.colorPicker,e=function(t){for(var o in t)(t[o]&&"[object Object]"===t[o].toString()||t[o]instanceof Array)&&e(t[o]),t[o]=null,delete t[o]};this.stopRender(),s(this,!0),e(this),t.parentNode.removeChild(t),t=null},R(H?document.body:t,"mouseup",c);for(var st=at.length;st--&&!t[nt];)t[nt]=t[at[st]+"Request"+ot],t[it]=t[at[st]+"Cancel"+ot]||t[at[st]+"CancelRequest"+ot];t[nt]=t[nt]||function(e){return t.setTimeout(e,1e3/tt.fps)},t[it]=t[it]||function(e){return t.clearTimeout(e),N=null}}(window),function(t,e){t.fn.extend({colorPicker:function(o){var n=function(e,n){var i=this,a=t(i.input),r=e.RND.rgb,s=e.RND.hsl,c=i.isIE8?(e.alpha<.16?"0":"")+Math.round(100*e.alpha).toString(16).toUpperCase()+e.HEX:"",l=r.r+", "+r.g+", "+r.b,d="rgba("+l+", "+e.alpha+")",g=1!==e.alpha&&!i.isIE8,u=a.data("colorMode"),p="HEX"!==u||g?"rgb"===u||"HEX"===u&&g?g?d:"rgb("+l+")":"hsl"+(g?"a(":"(")+s.h+", "+s.s+"%, "+s.l+"%"+(g?", "+e.alpha:"")+")":"#"+(i.isIE8?c:e.HEX);a.val(p).css("background-color",p),"function"==typeof o.changeCallback&&o.changeCallback(p)},i=function(e,n){var i=this,a=c.current,r="";if(i.colorList=[],"toMemery"===n){for(var s,l=a.nodes.memos,d="",g=0,u=[],p=0,f=l.length;p<f;p++)s=t(l[p]),d=s.css("background-color"),g=Math.round(100*s.css("opacity"))/100,r=d.replace(/, /g,",").replace("rgb(","rgba(").replace(")",","+g+")"),i.colorList.indexOf(r)==-1&&(u.unshift(r),i.colorList.push(r));u="'"+u.join("','")+"'",t.docStorage("colorPickerMemos",u),"function"==typeof o.addCallback&&o.addCallback(l.cssText)}},a=function(o,a){var r={klass:e.ColorPicker,input:o,isIE8:!!document.all&&!document.addEventListener,animationSpeed:0,draggable:!0,margin:{left:-1,top:2},customBG:"#FFFFFF",color:o.value,initStyle:"display: none",mode:t.docStorage("colorPickerMode")||"hsv-h",memoryColors:t.docStorage("colorPickerMemos"),size:t.docStorage("colorPickerSize")||1,renderCallback:n,actionCallback:i};for(var s in a)r[s]=a[s];return new r.klass(r)},r=function(n){t(n).on("focus.colorPicker",function(e){var i=t(this),r=i.closest("li").position(),s=c[0]||(c[0]=a(this,o)),l=s.color.options,d=t.ui&&l.draggable?t(s.nodes.colorPicker).draggable({cancel:"."+l.CSSPrefix+"app div"}):t(s.nodes.colorPicker);l.color=n.value;var g=r.left,u=r.top;d.css({zIndex:99,position:"absolute",left:g+l.margin.left,top:u+ +i.outerHeight(!0)+l.margin.top}),l.input=n,s.setColor(n.value,void 0,void 0,!0),s.saveAsBackground(),c.current=c[0],t(l.appenTo||document.body).append(d),setTimeout(function(){d.show(s.color.options.animationSpeed)},0)}),c.evt&&!off||(c.evt=!0,t(e).on("mousedown.colorPicker",function(e){var o=(t(this),c.current),n=t(o?o.nodes.colorPicker:void 0),i=o?o.color.options.animationSpeed:0,a=t(e.target).closest(".cp-app")[0],r=t(s).index(e.target);a&&t(c).index(a)?e.target===o.nodes.exit&&(n.hide(i),t(":focus").trigger("blur")):r!==-1||n.hide(i)}))},s=this,c=this.colorPickers||[];new e.Colors({customBG:"",allMixDetails:!0});return this.colorPickers=c,t(this).each(function(e,o){var n=o.value.split("(");t(o).data("colorMode",n[1]?n[0].substr(0,3):"HEX"),r(o)}),this}}),t.docStorage=function(t,e){return e?localStorage.setItem(t,e):localStorage.getItem(t)}}(jQuery,this);var tools={isEmpty:function(t){return t=$.trim(t),null==t||"null"==t||(void 0==t||"undefined"==t||(""==t||(0==t.length||!/[^(^\s*)|(\s*$)]/.test(t))))},isNotEmpty:function(t){var e=this;return!e.isEmpty(t)},showLoading:function(){var t=this,e=["<div class='com-loading' id='J-comLoading'>","<div class='ui-ico-loading'></div>","</div>"].join("");t.loadingObj=$(e),$("body").append(t.loadingObj)},hideLoading:function(){var t=this;t.loadingObj.remove()},forbiddenSelect:function(){$(document).bind("selectstart",function(){return!1}),document.onselectstart=new Function("event.returnValue=false;"),$("*").css({"-moz-user-select":"none"})},autoSelect:function(){$(document).bind("selectstart",function(){return!0}),document.onselectstart=new Function("event.returnValue=true;"),$("*").css({"-moz-user-select":""})},move:function(t){var e=this,o=t,n=!1;o.moveBar.off().on("mousedown",function(t){var i=o.moveBar;o.reference&&(i=o.reference);var a=t.clientY,r=t.clientX,s=!0,c=i.get(0).getBoundingClientRect().left,l=i.get(0).getBoundingClientRect().top;e.forbiddenSelect(),$(document).off("mousemove mouseup").on("mousemove",function(t){if(s){var e=$(window).width(),d=$(window).height(),g=i.width(),u=i.height(),p=c+t.clientX-r,f=l+t.clientY-a,m=e-g,A=d-u;o.notLimit||(2>p&&(p=2),p>m&&(p=m-5),f>A&&(f=A-5)),2>f&&(f=2),i.css({left:p,top:f,margin:0}),"function"!=typeof o.startCallback||n||(o.startCallback(),n=!0)}}).on("mouseup",function(t){e.autoSelect(),s=!1,"function"==typeof o.endCallback&&o.endCallback()})}).on("mouseup",function(){$(document).off("mousemove mouseup")})},tmAjax:function(t){var e=t;$.ajax({type:e.type||"post",url:e.url,data:e.data||{},traditional:!0,error:function(t){"function"==typeof e.error&&e.error(t)},success:function(t){"function"==typeof e.success&&e.success(t)}})},tip:function(t){var e=t||{},o=tools.tip.tipEle,n=e.timeout||1.5,i="warning"!=e.type?"error"!=e.type?"#44b549":"#f51b33":"#eaa000";if(!o){var a=["<div style='display:none;width:700px;padding:10px 0;text-align:center;font-size:14px;color:#fff;position:fixed;top:0;left:50%;z-index:99999;'>","<span></span>","</div>"].join("");tools.tip.tipEle=o=$(a),$("body").append(o).fadeIn(300)}o.find("span").html(e.content||""),o.css({marginLeft:-350,background:i}).fadeIn(300),o.on("click",function(){o.fadeOut(300),"function"==typeof e.callback&&e.callback(),clearTimeout(tools.tip.timer)}),clearTimeout(tools.tip.timer),tools.tip.timer=setTimeout(function(){o.fadeOut(300),"function"==typeof e.callback&&e.callback()},1e3*n)},getUrlParams:function(t){t=this.isEmpty(t)?location.href:t;var e=t.split("?"),o=e[e.length-1],n=o.split("&"),i={};if(e.length>1)for(var a,r,s,c=0,l=n.length;c<l;c++)a=n[c].split("="),r=a[0],s=a[1],"string"==typeof r&&""!==r&&(i[r]?("string"==typeof i[r]&&(i[r]=[i[r]]),i[r].push(s)):i[r]=s);return i},setLs:function(t,e){if("object"==typeof t)for(var o in t)t.hasOwnProperty(o)&&localStorage.setItem(o,t[o]);else localStorage.setItem(t,e);return this},getLs:function(t){return localStorage.getItem(t)},setPostMessage:function(){window.addEventListener("message",function(t){if(0==t.data.code){$("#J-loginBox").html("<div class='com-meber-logined'><a href='/user/'>"+t.data.data+"</a><a href='/login-out/' class='com-member-login-out'>退出</a></div>"),$("#J-loginPop").hide();var e=tools.getUrlParams();tools.isNotEmpty(e.redirectUrl)&&location.replace(decodeURIComponent(e.redirectUrl))}},!1)},login:function(){function t(){e.loginPop.on("click",".J-loginClose",function(){e.loginPop.hide()}),e.loginPop.on("click","#J-loginBtn",function(){e.valiData(function(t){e.tmAjax({url:"/ajax/login",data:t,success:function(t){0==t.code?location.reload():e.tip({type:"warning",content:t.msg})}})})}),e.loginPop.on("click",".J-QQLogin",function(){window.open("/oauth/login/qq/","QQ登录","height=500,width=800,top=120,left="+(window.screen.availWidth/2-400)+",help=no,resizable=no,status=no,scroll=no")})}var e=this,o=$("#J-goLogin"),n=['<div class="account-main-wrap" id="J-loginPop">','<div class="account-layer J-loginClose"></div>','<div class="account-main">','<div class="account-close J-loginClose">×</div>','<h3 class="account-title">用户登录</h3>','<div class="account-section">','<input type="text" placeholder="请输入用户名" class="account-input" id="J-accountInput">',"</div>",'<div class="account-section">','<input type="password" placeholder="请输入密码" class="account-input" id="J-psdInput">',"</div>",'<div class="account-section">','<a href="javascript:void(0);" class="account-btn" id="J-loginBtn">立即登录</a>',"</div>",'<div class="account-section account-help">','<a href="/register/" class="fr account-help-text">快速注册</a>','<a href="/forgot/">忘记密码？</a>','<span class="clear"></span>',"</div>","<div>",'<span class="ico ico-account-third ico-account-third-qq J-QQLogin" title="QQ登录"></span>',"</div>","</div>","</div>"].join("");o.on("click",function(){e.loginPop=$("body").find("#J-loginPop"),e.loginPop.size()?e.loginPop.show():($("body").append(n),e.loginPop=$("body").find("#J-loginPop"),t())})},valiData:function(t){var e=this,o=e.loginPop.find("#J-accountInput"),n=e.loginPop.find("#J-psdInput"),i=o.val(),a=n.val();e.isEmpty(i)?e.tip({type:"warning",content:"请输入账号",callback:function(){o.focus()}}):e.isEmpty(a)?e.tip({type:"warning",content:"请输入密码",callback:function(){n.focus()}}):t({account:i,password:a})}};tools.login(),tools.setPostMessage();var CONFIRM_TEMPLATE=["<div class='ui-dialog-wrap'><div class='ui-tip-layer'></div>","<div class='ui-confirm'>","<div class='ui-confirm-title'></div>","<div class='ui-confirm-bd'></div>","<div class='ui-confirm-btn-bd'>","<span class='ui-confirm-ok'>确认</span>","<span class='ui-confirm-cancel'>取消</span>","</div>","<div class='ui-confirm-close'>×</div>","</div>","</div>"].join(""),ALERT_TEMPLATE=["<div class='ui-dialog-wrap'><div class='ui-tip-layer'></div>","<div class='ui-confirm'>","<div class='ui-confirm-title'></div>","<div class='ui-confirm-bd'></div>","<div class='ui-confirm-btn-bd'>","<span class='ui-confirm-ok J-confirmBtn'>确认</span>","</div>","<div class='ui-confirm-close'>×</div>","</div>","</div>"].join(""),dialog={confirm:function(t){var e=t||{},o=this;o.confirmEle?o.confirmEle.show():(o.confirmEle=$(CONFIRM_TEMPLATE),o.confirmMain=o.confirmEle.find(".ui-confirm"),o.confirmBd=o.confirmEle.find(".ui-confirm-bd"),o.confirmHd=o.confirmEle.find(".ui-confirm-title"),o.confirmOk=o.confirmEle.find(".ui-confirm-ok"),o.confirmCancel=o.confirmEle.find(".ui-confirm-cancel"),o.confirmClose=o.confirmEle.find(".ui-confirm-close"),$("body").append(o.confirmEle),o.confirmClose.off().on("click",function(){o.confirmEle.hide()})),o.confirmBd.attr("class","ui-confirm-bd").addClass("ui-confirm-bd-"+e.type).html(e.content),o.confirmHd.text(e.title||"提示"),o.confirmOk.html(e.btnText),o.confirmMain.css({top:($(window).height()-o.confirmMain.outerHeight())/2,left:($(window).width()-o.confirmMain.outerWidth())/2}),e.move?(tools.move({moveBar:o.confirmHd,reference:o.confirmMain}),o.confirmHd.css("cursor","move")):o.confirmHd.css("cursor","default"),o.confirmCancel.off().on("click",function(){"function"==typeof e.callback&&e.callback(!1),o.confirmEle.hide()}),o.confirmOk.off().on("click",function(){"function"==typeof e.callback&&e.callback(!0),e.notAutoHide||o.confirmEle.hide()})},alert:function(t){var e=t||{},o=this;o.alertEle?o.alertEle.show():(o.alertEle=$(CONFIRM_TEMPLATE),o.alertMain=o.alertEle.find(".ui-confirm"),o.alertBd=o.alertEle.find(".ui-confirm-bd"),o.alertHd=o.alertEle.find(".ui-confirm-title"),o.alertOk=o.alertEle.find(".ui-confirm-ok"),o.alertClose=o.alertEle.find(".ui-confirm-close"),$("body").append(o.alertEle),o.alertClose.off().on("click",function(){o.alertEle.hide()})),o.alertBd.attr("class","ui-confirm-bd").addClass("ui-confirm-bd-"+e.type).html(e.content),o.alertHd.text(e.title||"提示"),o.alertOk.html(e.btnText),o.alertMain.css({top:($(window).height()-o.alertMain.outerHeight())/2,left:($(window).width()-o.alertMain.outerWidth())/2}),e.move?(tools.move({moveBar:o.alertHd,reference:o.alertMain}),o.alertHd.css("cursor","move")):o.alertHd.css("cursor","default"),o.alertOk.off().on("click",function(){"function"==typeof e.callback&&e.callback(!0),e.notAutoHide||o.alertEle.hide()})},hide:function(t){var e=this;"confirm"===t&&e.confirmEle?e.confirmEle.hide():"alert"==t&&e.alertEle&&e.alertEle.hide()}};$(function(){var t="edit_template_id";EMPTY_TMPL="<p><br/></p>",window.UPLOAD_SRC="";var e={init:function(){var t=this;t.loadEditor(function(){t.editTools=$("#J-editTools"),t.body=$("body"),t.appendToEditor(),t.clearEditor(),t.zeroClipboard(),t.closeConfirm(),t.checkBrowser(),t.showColBox(),t.view(),t.selectColor(),t.searchListBySecondTag(),t.searchListByThirdTag(),t.styleSourceTable(),t.loadLike(),t.tableSlide(),t.viewTmpl(),t.cancelCollection(),t.scrollLoadPic(),t.fullScreen(),t.loadMy(),t.getUserTmplContent(),t.deleteUserTemplate(),t.addUserTemplate(),t.delCustom(),t.checkSelete(),t.moveFixedTools(),t.setPopIndex();var e=tools.getUrlParams(location.href);1==e.colorType&&$("#J-colorChangeType").show()})},loadEditor:function(t){var e=this;e.loadStartLoadEditor=!0,UEDITOR_CONFIG.toolbars=[["fullscreen","source","|","undo","redo","|","bold","italic","underline","fontborder","strikethrough","superscript","subscript","removeformat","formatmatch","autotypeset","pasteplain","|","forecolor","backcolor","insertorderedlist","insertunorderedlist","indent","rowspacingtop","rowspacingbottom","lineheight","|","fontfamily","fontsize","justifyleft","justifycenter","justifyright","justifyjustify","insertimage","emotion","|","horizontal","spechars","inserttable"]],UEDITOR_CONFIG.initialStyle="body{font-size:14px;font-family:MicroSoft YaHei}",UEDITOR_CONFIG.initialFrameWidth=500,UEDITOR_CONFIG.initialFrameHeight=690,UEDITOR_CONFIG.initialContent=EMPTY_TMPL,UEDITOR_CONFIG.serverUrl="http://pic.upload.96weixin.com/php/editor"+window.UPLOAD_SRC+"/controller.php",e.UE=UE.getEditor("myEditor"),e.UE.addListener("selectionchange",function(){e.setEditerTools()}),e.UE.addListener("blur",function(){e.editTools.hide()}),e.setContentByLocal(),"function"==typeof t&&t()},appendToEditor:function(){var t=this,e=$(".J-sourceList");e.on("click",".con-diy-item",function(e){if(!$(e.target).hasClass("J-collectBtn")){var o=$(this).find(".con-wrap").html(),n=t.UE.selection.getRange();n.select(),t.UE.execCommand("insertHtml",o)}})},clearEditor:function(){var e=this;$("#J-clearEditor").off("click").on("click",function(){dialog.confirm({type:"warning",move:!0,title:"警告",content:"是否确认删除，删除后不可恢复!",callback:function(o){o&&(e.UE.setContent(EMPTY_TMPL),tools.setLs("ueditor_preference",""),e.editTools.hide(),tools.setLs(t,""))}})})},zeroClipboard:function(){var t=this,e=$("#J-copyEditorContent"),o=$("#J-copyEditorSource"),n=new ZeroClipboard(e),i=new ZeroClipboard(o);n.on("ready",function(e){n.on("copy",function(e){t.getContent(function(t){e.clipboardData.setData("text/html",t)})}),n.on("aftercopy",function(t){tools.tip({content:"复制成功"})})}),i.on("ready",function(e){i.on("copy",function(e){t.getSource(function(t){e.clipboardData.setData("text/html",t)})}),i.on("aftercopy",function(t){tools.tip({content:"复制成功"})})})},getContent:function(t){var e=$(document.getElementById("ueditor_0").contentWindow.document.body),o=e.clone();o.find(".96wx-img").each(function(){var t=$(this),e=t.attr("src"),o=t.data("wxsrc");!tools.isNotEmpty(o)||e.indexOf("http://newcdn.96weixin.com")==-1&&e.indexOf("http://im3.image.96weixin.com")==-1||t.attr("src",o).removeAttr("data-wxsrc")}),o.find(".96wx-bgpic").each(function(){var t=$(this),e=t.css("background-image"),o=t.css("-webkit-border-image"),n=t.data("wxsrc"),i=t.prop("outerHTML");tools.isNotEmpty(n)&&(tools.isNotEmpty(e)&&"none"!=e&&"initial"!=e&&"inherit"!=e&&e.indexOf("https://mmbiz.qlogo.cn")==-1&&t.css("background-image","url("+n+")"),tools.isNotEmpty(o)&&"none"!=o&&"initial"!=o&&"inherit"!=o&&o.indexOf("https://mmbiz.qlogo.cn")==-1&&(i=i.replace(/url\(([^(]*)\)/gi,"url("+n+")"),t.after($(i)),t.remove()))});var n=o.html();n=n.replace(/_src="([^"]*)"/gi,"").replace(/data-wxsrc="([^"]*)"/gi,"").replace(/96wx-img/g,"").replace(/96wx-bgpic/g,""),"function"==typeof t&&t(n)},getSource:function(t){var e=$(document.getElementById("ueditor_0").contentWindow.document.body),o=e.clone();o.find(".wx96Diy").each(function(){var t=$(this).html();$(this).replaceWith(t)});var n=o.html();n=n.replace(/_src="([^"]*)"/gi,"").replace(/newcdn.96weixin.com/gi,"im3.image.96weixin.com").replace(/pic.96weixin.com/gi,"pic.bcdn.96weixin.com"),"function"==typeof t&&t(n)},editorItemSelect:function(){var t=this;t.editorIframe.off().on("click",".wx96Diy",function(e){var o=$(this);"IMG"!=e.target.tagName&&e.stopPropagation(),t.editorIframe.find(".wx96Diy").removeClass("cur"),o.hasClass("cur")||o.addClass("cur"),t.bgChangeDialog&&t.bgChangeDialog.is(":visible")&&t.setBgStyle(o),t.pDialog&&t.pDialog.is(":visible")&&t.setParagraph(o)})},setContentByLocal:function(){var t=this,e=null;t.UE.addListener("ready",function(){t.editorIframe=$(document.getElementById("ueditor_0").contentWindow.document.body),t.editorItemSelect(),t.windowScroll(),t.editorScroll();var o=tools.getLs("ueditor_preference");if(tools.isNotEmpty(o)){var n;try{n=JSON.parse(o)}catch(t){throw new Error("JSON格式的数据有误，转化失败!")}n.wx005Edit&&t.UE.setContent(n.wx005Edit)}e=setTimeout(function(){t.loadStartLoadEditor=!1,clearTimeout(e)},1e3)})},saveContent:function(){var t=this,e=t.UE.getContent();tools.setLs("ueditor_preference",JSON.stringify({wx005Edit:e}))},setEditerTools:function(t){function e(){window.tmSelectionImg="",i.editTools.off().on("click","span",function(){var t=$(this),e=t.data("operate"),o=!1;switch(e){case"delete":i.curDiy.remove(),i.editTools.hide();break;case"insert-before":$(EMPTY_TMPL).insertBefore(i.curDiy);break;case"insert-after":$(EMPTY_TMPL).insertAfter(i.curDiy);break;case"up":i.curDiy.insertBefore(i.curDiy.prev());break;case"down":i.curDiy.insertAfter(i.curDiy.next());break;case"custom":if(o)return;i.addCustom(function(){o=!1});break;case"bg":if(o)return;i.setBgStyle(i.curDiy,function(){o=!1});break;case"p":if(o)return;i.setParagraph(i.curDiy,function(){o=!1})}i.saveContent()});var t=new ZeroClipboard(i.editTools.find("span:eq(0)")),e=new ZeroClipboard(i.editTools.find("span:eq(1)"));t.on("copy",function(t){var e=o();t.clipboardData.setData("text/html",e)}),e.on("copy",function(t){var e=o();t.clipboardData.setData("text/html",e)}),e.on("aftercopy",function(t){n(),i.saveContent(),i.editTools.hide()})}function o(){var t=i.curDiy.clone();t.find(".96wx-img").each(function(){var t=$(this),e=t.attr("src"),o=t.data("wxsrc");!tools.isNotEmpty(o)||e.indexOf("http://newcdn.96weixin.com")==-1&&e.indexOf("http://im3.image.96weixin.com")==-1||t.attr("src",o).removeAttr("data-wxsrc")}),t.find(".96wx-bgpic").each(function(){var t=$(this),e=t.css("background-image"),o=t.css("-webkit-border-image"),n=t.data("wxsrc"),i=t.prop("outerHTML");tools.isNotEmpty(n)&&(tools.isNotEmpty(e)&&"none"!=e&&"initial"!=e&&"inherit"!=e&&e.indexOf("https://mmbiz.qlogo.cn")==-1&&t.css("background-image","url("+n+")"),tools.isNotEmpty(o)&&"none"!=o&&"initial"!=o&&"inherit"!=o&&o.indexOf("https://mmbiz.qlogo.cn")==-1&&(i=i.replace(/url\(([^(]*)\)/gi,"url("+n+")"),t.after($(i)),t.remove()))});var e=t.prop("outerHTML");return e.replace(/_src="([^"]*)"/gi,"").replace(/data-wxsrc="([^"]*)"/gi,"").replace(/96wx-img/g,"").replace(/96wx-bgpic/g,"")}function n(){i.curDiy.remove()}var i=this;if(!i.loadStartLoadEditor){var a,r,s=i.UE.selection.getRange(),c=s.getClosedNode(),l=s.getCommonAncestor(),d=$(l).closest(".wx96Diy"),g=0;if(tools.isEmpty(d)||!d.hasClass("wx96Diy"))return i.editTools.hide(),void i.editorIframe.find(".wx96Diy").removeClass("cur");g=c&&"IMG"==c.tagName?13:0,a=d.get(0).getBoundingClientRect().top+$("#ueditor_0").get(0).getBoundingClientRect().top,r=d.get(0).getBoundingClientRect().left+$("#ueditor_0").get(0).getBoundingClientRect().left,
diyWidth=d.outerWidth(),diyHeight=d.outerHeight(),i.editTools.css({top:a+diyHeight+g,left:r+diyWidth-318}),i.editTools.is(":hidden")&&i.editTools.show(),i.curDiy=d,i.copyIsLoad||(i.copyIsLoad=!0,e())}},setBgStyle:function(t,e){function o(){var t=r.css("backgroundRepeat"),e=r.css("backgroundPosition"),o=r.css("backgroundSize");r.css("backgroundImage",'url("'+s+'")'),a.find(".J-bgChangeSrc").val(s),a.find("option").prop("selected",!1),a.find('.J-bgChangeRepeat option[value="'+t+'"]').prop("selected",!0),a.find('.J-bgChangePosition option[value="'+e+'"]').prop("selected",!0),a.find('.J-bgChangeSize option[value="'+o+'"]').prop("selected",!0)}function n(){a.find(".J-bgChangeSrc").off().on("blur",function(){r.css("backgroundImage",'url("'+$(this).val()+'")')}),a.find(".J-bgChangeRepeat").off().on("change",function(){r.css("backgroundRepeat",$(this).val())}),a.find(".J-bgChangePosition").off().on("change",function(){r.css("backgroundPosition",$(this).val())}),a.find(".J-bgChangeSize").off().on("change",function(){r.css("backgroundSize",$(this).val())})}var i=this,a=i.bgChangeDialog,r=t.find(".96wx-chbg");1!=r.length&&(t.find(".96wx-layout").size()||t.wrapInner("<section class='96wx-layout'>"),r=t.find(".96wx-layout:eq(0)"));var s=r.css("backgroundImage").replace('url("',"").replace('")',"").replace("none","");tools.isEmpty(a)?$.ajax({url:"/statics/bg-change.html?t="+(new Date).getTime(),success:function(t){a=i.bgChangeDialog=$(t),i.body.append(a),tools.move({moveBar:a.find(".bg-change-handle"),reference:a,notLimit:!0}),a.on("click",".J-bgChangeClose",function(){a.hide(),i.saveContent()}),n(),o(),"function"==typeof e&&e()}}):(a.show(),n(),o())},setParagraph:function(t,e){function o(){var t=a("font-family"),e=a("font-size").replace("px",""),o=a("font-weight")||"normal",n=a("color"),r=a("letter-spacing"),c=a("line-height").replace("px",""),l=a("text-indent").replace("px",""),d=a("padding-top"),g=a("padding-bottom"),u=a("background-color"),p={"font-family":t.indexOf("MicroSoft")==-1?t.replace(/"/gi,"'"):"微软雅黑","font-size":e,"font-weight":o,color:n,"letter-spacing":r,"line-height":isNaN(c)?1.42571:c/e,"text-indent":isNaN(l)?0:l/e,"padding-top":d,"padding-bottom":g,"background-color":u};i();for(k in p){var f=s.find("*[data-role="+k+"]"),m=p[k].toString().replace("px","");f.is("input")?f.val(m):f.is("select")&&f.find('option[value="'+m+'"]').length>0&&f.find('option[value="'+m+'"]').prop("selected",!0)}}function n(){s.find(".p-form").off().on("input",function(){var t=$(this),e=t.val(),o=t.attr("data-role"),n=t.attr("data-conversion");tools.isNotEmpty(n)&&(e+=n),l.css(o,e)})}function i(t){s.find(".p-form").val(""),s.find("option").removeAttr("selected"),t&&tools.isNotEmpty(r.brushOldStyle)&&r.brush.attr("style",r.brushOldStyle)}function a(t){return l.css(t)}var r=this,s=r.pDialog,c=$(r.UE.selection.getStartElementPath()[0]),l=c.closest(".96wx-text");l.length<1&&(l=c.closest("p"),l.length>0&&l.siblings("p").length>1&&(l=c.closest("section"))),l.length<1&&(l=c.closest("section")),l.length<1&&(l=c.closest(".wx96Diy")),r.brush=l,r.brushOldStyle=r.brush.attr("style"),tools.isEmpty(s)?$.ajax({url:"/statics/paragraph-set.html?t="+(new Date).getTime(),success:function(t){s=r.pDialog=$(t),r.body.append(s),tools.move({moveBar:s.find(".p-handle"),reference:s,notLimit:!0}),s.on("click",".J-pDialogClose",function(){s.hide(),s.find(".p-form").off(),i(),r.saveContent()}),s.on("click",".J-pCancel",function(){s.hide(),s.find(".p-form").off(),i(!0)}),n(),o(),"function"==typeof e&&e()}}):(s.show(),n(),o())},showColBox:function(){var t=this,e=$("#J-spriderBtn");e.on("click",function(){var e=$("<input type='text' autofocus style='width:96.5%;height:20px;font-size:13px;border:2px solid #ccc;' placeHolder='请输入采集地址'>");dialog.confirm({title:"请输入采集地址",content:e,btnText:"采集",move:!0,notAutoHide:!0,callback:function(o){var n=$.trim(e.val());if(o){if(tools.isEmpty(n))return void tools.tip({type:"warning",content:"请输入采集地址",timeout:2});if(n.indexOf("mp.weixin.qq.com")===-1)return void tools.tip({type:"warning",content:"请输入正确的公众平台网址",timeout:2});n=n.replace("https://","http://"),n.indexOf("http://")===-1&&(n="http://"+n),tools.showLoading(),tools.tmAjax({url:"/ajax/sprider-mp",data:{url:n},error:function(t){console.log(t),tools.hideLoading()},success:function(o){o=$.trim(o),tools.isNotEmpty(o)?(o=o.replace(new RegExp("data-src","g"),"src"),t.UE.setContent(o),dialog.hide("confirm"),e.val("")):tools.tip({type:"warning",content:"采集的网址不存在，或是内容为空"}),tools.hideLoading()}})}}})})},closeConfirm:function(){function t(t){var e="请确认您当前的内容已经妥善转存！";return e}function e(){var t=o.UE.getContent();return!tools.isEmpty(t)}var o=this;window.Event?window.onbeforeunload=function(o){if(e())return t(o)}:window.onbeforeunload=function(){if(e())return t(event)}},view:function(){var t=this;$("#J-mobileView").off("click").on("click",function(){var e=t.UE.getContent();t.setViewContent(e,"view-style")})},setViewContent:function(t,e,o){function n(n){tools.isNotEmpty(e)&&n.attr("role",e),n.find("#J-viewCon").html(t),n.removeClass("hide"),a.css("overflow","hidden"),n.find(".J-closeBtn").off("click").on("click",function(){n.addClass("hide"),a.css("overflow","auto"),n.removeAttr("role")}),n.find(".collection").off("click").on("click",function(){var t=$(this).attr("role"),e="cancel"==t?0:"add"==t?1:"";tools.isEmpty(o)||tools.isEmpty(e)||i.collection({typeId:2,targetId:o,operate:e,callback:function(t){0==e?n.attr("role","uncollection"):1==e&&n.attr("role","iscollection")}})}),n.find(".use").off("click").on("click",function(){dialog.confirm({type:"warning",move:!0,title:"警告",content:"此操作将覆盖已编辑内容 ，是否继续？",callback:function(e){e&&(i.UE.setContent(t),tools.setLs("ueditor_preference",JSON.stringify({wx005Edit:t})),n.addClass("hide"),a.css("overflow","auto"))}})})}var i=this,a=i.body,r=i.viewObj;r?n(i.viewObj):$.ajax({url:"/statics/mobile.html",success:function(t){dataObj=$(t),i.viewObj=dataObj,a.append(dataObj),n(dataObj)}})},collection:function(t){var e=t.typeId,o=t.targetId,n=t.operate;tools.tmAjax({url:"/ajax/collection",json:!0,data:{id:o,operate:n,type:e},success:function(e){0==e.code?"function"==typeof t.callback&&t.callback(e.data):tools.tip({type:"warning",content:e.msg})}})},moveFixedTools:function(){var t=$("#J-fixedTools");tools.move({moveBar:t,startCallback:function(){t.css({position:"fixed",right:"auto",bottom:"auto"})}})},windowScroll:function(){var t=this;$(window).scroll(function(){t.editTools.is(":visible")&&t.editTools.hide(),t.editorIframe.find(".wx96Diy").removeClass("cur")})},editorScroll:function(){var t=this;$(document.getElementById("ueditor_0").contentWindow).scroll(function(){t.editTools.is(":visible")&&t.editTools.hide(),t.editorIframe.find(".wx96Diy").removeClass("cur")})},checkBrowser:function(){var t=navigator.userAgent,e=tools.getLs("updateBrowserTip");"true"!=e&&t.indexOf("MSIE")>=0&&t.indexOf("Opera")<0&&dialog.confirm({type:"warning",move:!0,title:"您的浏览器版本过低",content:"低版本浏览器使用96编辑器将无法体验最新功能，是否立即升级？",callback:function(t){result&&window.open("/liulanqi/"),tools.setLs("updateBrowserTip",!0)}})},checkSelete:function(){$(".ui-label-check").off("click").on("click",function(){$(this).toggleClass("cur"),$(this).find(".ico-check").toggleClass("ico-checked")}),$("#J-colorChangeType").children("a").off("click").on("click",function(){$(this).removeClass("cur").addClass("cur").siblings().removeClass("cur")})},selectColor:function(){function t(t,o,n){var i=null;1===n?i=e.body:2===n?i=e.editorIframe:3===n&&(i=e.editorIframe.find(".wx96Diy.cur")),1==o?i.find(".96wx-bgc").css("background-color",t):2==o?i.find(".96wx-color").css("color",t):3==o?(i.find(".96wx-bdc").css("border-color",t),i.find(".96wx-bdtc").css("border-top-color",t),i.find(".96wx-bdrc").css("border-right-color",t),i.find(".96wx-bdbc").css("border-bottom-color",t),i.find(".96wx-bdlc").css("border-left-color",t)):4==o&&(i.find(".96wx-bgc").css("background-color",t),i.find(".96wx-color").css("color",t),i.find(".96wx-bdc").css("border-color",t),i.find(".96wx-bdtc").css("border-top-color",t),i.find(".96wx-bdrc").css("border-right-color",t),i.find(".96wx-bdbc").css("border-bottom-color",t),i.find(".96wx-bdlc").css("border-left-color",t))}var e=this,o=$("#J-colorPickerBtn"),n=o.closest(".con-color-list"),i=tools.getLs("colorPickerMemos")||"",a=i.split("','"),r="",s=$("#J-colorChangeType"),c=$("#J-colorChangeScope");e.colorList=[];for(var l=14,d=0;d<a.length;d++)r=a[d].replace(/'/g,""),tools.isNotEmpty(r)&&e.colorList.indexOf(r)==-1&&(n.find(".con-color-item").size()>=l&&n.find(".con-color-item").eq(0).remove(),e.colorList.push(r),o.before("<li class='con-color-item' style='background-color:"+r+"'><i class='ico ico-color-select'></i></li>"));$("#J-colorPicker").colorPicker({changeCallback:function(e){var o=s.find(".cur").data("type"),n=c.find(".ico-checked"),i=n.length;if(tools.isNotEmpty(e)&&tools.isNotEmpty(o))for(var a=0,r=0;r<i;r++)a=n.eq(r).data("value"),t(e,o,a)},addCallback:function(t){tools.isNotEmpty(t)&&(n.find(".con-color-item").size()>=l&&n.find(".con-color-item").eq(0).remove(),o.before("<li class='con-color-item' style='"+t+"'><i class='ico ico-color-select'></i></li>"))}}),n.on("click",".con-color-item",function(){var e=$(this),o=e.css("background-color"),n=s.find(".cur").data("type"),i=c.find(".ico-checked"),a=i.length;if(e.removeClass("active").addClass("active").siblings().removeClass("active"),tools.isNotEmpty(o)&&tools.isNotEmpty(n))for(var r=0,l=0;l<a;l++)r=i.eq(l).data("value"),t(o,n,r)})},tableSlide:function(){var t=$("#J-sourceTableList .edit-source-list");t.find(".title").on("click",function(){var t=$(this),e=t.parent(),o=t.data("type");t.hasClass("active")||($("#J-conBoxWrap").find(".con-box-list[data-type='"+o+"']").addClass("active").siblings().removeClass("active"),e.find(".subList.cur").size()?e.find(".subList.cur").trigger("click"):e.find(".subList:first").trigger("click"),e.hasClass("cur")||(e.addClass("cur").siblings().removeClass("cur"),t.addClass("active"),e.siblings().find(".title").removeClass("active")))})},styleSourceTable:function(){var t=this,e=$("#J-conMenu"),o=$(".J-sourceHdList"),n=!1;t.conMenuItemCount=t.conMenuItemCount||1,o.find(".subList").on("click",function(){function o(t){if(e.find(".con-menu-item.active .menu-item-table-bd a").size())t();else{var o=e.find(".con-menu-item.active");o.find("dl.active .tag-btn.cur").size()?o.find("dl.active .tag-btn.cur").trigger("click"):o.find("dl.active .tag-btn[data-type='top']").trigger("click")}}var i=$(this),a=i.data("id"),r=i.data("sourcetype"),s=i.attr("data-index");if(!n){tools.isEmpty(s)&&(i.attr("data-index",t.conMenuItemCount),s=t.conMenuItemCount);var c=e.find(".con-menu-item[data-index='"+s+"']");c.size()||(c=$("<div class='con-menu-item'></div>"),e.prepend(c)),tools.isEmpty(c.attr("data-index"))?(n=!0,tools.tmAjax({url:"/ajax/loadStyleByFirstTag",data:{tagId:a,sourceType:r},success:function(i){c.html(i).addClass("active").siblings().removeClass("active"),o(function(){e.find(".con-menu-item.active .menu-item-table-bd a:first").trigger("click")}),c.attr("data-index",s),t.conMenuItemCount++,n=!1}})):(c.addClass("active").siblings().removeClass("active"),o(function(){e.find(".con-menu-item.active .menu-item-table-bd a.active").trigger("click")})),i.addClass("cur").siblings().removeClass("cur")}})},searchListBySecondTag:function(){var t=this,e=$("#J-conMenu"),o=$("#J-tmplList"),n=$("#J-sourceList"),i=!1;t.secondTagCount=t.secondTagCount||0,e.on("click",".menu-item-table-bd a",function(){var e=$(this),a=e.data("tagid"),r=e.data("sourcetype"),s=e.attr("data-index");if(!i){if(tools.isEmpty(s)&&(e.attr("data-index",t.secondTagCount),s=t.secondTagCount),1==r){n.find(".con-box-item.active").attr("data-scroll",n.scrollTop());var c=n.find(".con-box-item[data-index='"+s+"']"),l=c.attr("data-scroll")||0;c.size()?(c.addClass("active").siblings().removeClass("active"),n.scrollTop(l)):(c=$("<div class='con-box-item'><span class='con-loading-tip'>数据加载中...</span></div>"),n.append(c),c.addClass("active").siblings().removeClass("active"),i=!0,tools.tmAjax({url:"/ajax/loadStyleBySecondTag",data:{parentId:a},success:function(e){c.html(e),c.attr("data-index",s),t.secondTagCount++,t.loadPic(),i=!1}}))}else if(2==r){var d=o.find("ul[data-index='"+s+"']");d.size()?(o.addClass("active").siblings().removeClass("active"),d.addClass("active").siblings().removeClass("active")):(d=$("<ul></ul>"),o.prepend(d),i=!0,tools.tmAjax({url:"/ajax/loadTempBySecondTag",data:{tagId:a,pageIndex:1,pageSize:20},success:function(e){tools.isNotEmpty(e)?d.prepend(e):d.prepend("<a href='/template/4/' class='more-link-tip' target='_blank'>更多模板，请前往<span>模板中心</span>收藏后，免费使用</a>"),o.addClass("active").siblings().removeClass("active"),d.addClass("active").siblings().removeClass("active"),d.attr("data-index",s),t.secondTagCount++,i=!1}}))}e.addClass("active").siblings().removeClass("active")}})},searchListByThirdTag:function(){var t=this,e=$("#J-conMenu"),o=$("#J-sourceList");t.conBoxItemCount=t.conBoxItemCount||1;var n=!1;e.on("click",".tag-btn",function(){function i(){"top"!=tagType&&"self"!=tagType?(o.find(".active .con-diy-item").hide(),o.find(".active .con-diy-item[data-tagid="+s+"]").show()):o.find(".active .con-diy-item").show(),r.hasClass("active")||r.removeClass("active").addClass("active").siblings().removeClass("active"),"self"==tagType&&a.closest("dl").addClass("active").siblings().removeClass("active"),t.loadPic(),o.scrollTop(g)}var a=$(this),r=a.closest("dl"),s=a.data("tagid"),c=r.find("dt.tag-btn").data("tagid");tagType=a.data("type"),"self"==tagType&&(r=a,c=s);var l=r.attr("data-itemcount");if(!n){tools.isEmpty(l)&&(r.attr("data-itemcount",t.conBoxItemCount),l=t.conBoxItemCount),o.find(".con-box-item.active").attr("data-scroll",o.scrollTop());var d=o.find(".con-box-item[data-itemcount="+l+"]"),g=d.attr("data-scroll")||0;e.find(".tag-btn").removeClass("cur"),a.addClass("cur"),d.size()||(d=$("<div class='con-box-item'></div>"),o.append(d)),d.hasClass("active")||d.removeClass("active").addClass("active").siblings().removeClass("active"),tools.isEmpty(d.attr("data-itemcount"))?(n=!0,d.html("<span class='con-loading-tip'>数据加载中...</span>"),tools.tmAjax({url:"/ajax/loadStyle",data:{parentId:c},success:function(e){tools.isNotEmpty(e)?d.html(e):d.html("<a href='/style/1/' class='more-link-tip' target='_blank'>更多样式，请前往<span>样式中心</span>收藏后，免费使用</a>"),d.attr("data-itemcount",l),t.conBoxItemCount++,i(),n=!1}})):i()}})},loadLike:function(){var t=this,e=$("#J-likeSourceList"),o=$("#J-likeList"),n=$("#J-conMenu"),i=!1;e.find(".subList").on("click",function(){var e=$(this);typeId=e.data("sourcetype");var a=o.find(".con-tmpl-list ul"),r=o.find(".con-box-item");i||(e.addClass("cur").siblings().removeClass("cur"),n.find(".con-menu-item").removeClass("active"),i=!0,tools.tmAjax({url:"/ajax/loadLike",data:{typeId:typeId},success:function(o){"object"!=typeof o?(1==typeId?(r.html(o).addClass("active"),a.removeClass("active"),t.loadPic()):2==typeId&&(r.removeClass("active"),a.html(o).addClass("active")),e.addClass("loaded")):"object"==typeof o&&o.code==-2&&$("#J-goLogin").trigger("click"),i=!1}}))})},loadMy:function(){var t=this,e=$("#J-mySourceList"),o=$("#J-myList"),n=$("#J-conMenu"),i=!1;e.find(".subList").on("click",function(){var e=$(this);typeId=e.data("sourcetype");var a=o.find(".con-box-item[data-type='"+typeId+"']"),r="/ajax/loadMy";3==typeId&&(r="/ajax/getUserTemplates"),(!a||a.size()<1)&&(a=$("<div class='con-box-item' data-type='"+typeId+"'>"),o.append(a)),i||(e.addClass("cur").siblings().removeClass("cur"),n.find(".con-menu-item").removeClass("active"),i=!0,tools.tmAjax({url:r,data:{typeId:typeId},success:function(e){"object"!=typeof e?(a.addClass("active").html(e).siblings().removeClass("active"),t.loadPic()):"object"==typeof e&&e.code==-2&&$("#J-goLogin").trigger("click"),i=!1}}))})},getUserTmplContent:function(){var e=this,o=!1;$("#J-myList").on("click",".my-template-list",function(n){var i=$(this),a=i.attr("data-id");"my-template-view"==n.target.className||o||(o=!0,tools.tmAjax({url:"/ajax/getUserTemplatesContent",data:{tmplId:a},success:function(n){0==n.code?tools.isEmpty(e.UE.getContent())?(e.UE.setContent(n.data),tools.setLs(t,a)):dialog.confirm({type:"warning",move:!0,title:"警告",content:"此操作将覆盖已编辑内容 ，是否继续？",callback:function(o){o&&(e.UE.setContent(n.data),tools.setLs(t,a))}}):tools.tip({type:"warning",content:n.msg}),o=!1}}))})},deleteUserTemplate:function(){var t=!1;$("#J-myList").on("click",".J-delete",function(e){e.stopPropagation();var o=$(this),n=o.closest(".my-template-list"),i=n.attr("data-id");t||dialog.confirm({type:"warning",move:!0,title:"警告",content:"确定要删除些模板吗？",callback:function(e){e&&(t=!0,tools.tmAjax({url:"/ajax/deleteUserTemplate",data:{tmplId:i},success:function(e){0==e.code?(tools.tip({content:"删除成功"}),n.remove()):tools.tip({type:"warning",content:e.msg}),t=!1}}))}})})},addUserTemplate:function(){function e(e){var i=!1;e.find("#J-saveUserTmpl").off().on("click",function(){i||o(e,function(o){i=!0,tools.tmAjax({url:"/ajax/addUserTemplate?timestamp="+(new Date).getTime(),data:o,success:function(o){0==o.code?(e.remove(),tools.tip({content:"保存成功"}),tools.setLs(t,o.data),n.body.css("overflow","auto")):tools.tip({type:"warning",content:o.msg}),i=!1}})})})}function o(t,e){var o=t.find(".type.active").attr("data-type"),i=t.find(".title").val(),a=t.find(".description").val(),r=t.find(".cover").val(),s=t.find(".tmpl-id").val(),c=n.UE.getContent();return tools.isEmpty(i)?void tools.tip({type:"warning",content:"标题不能为空"}):tools.isEmpty(c)?void tools.tip({type:"warning",content:"文章内容不能为空"}):"edit"==o&&tools.isEmpty(s)?void t.confirm({type:"warning",title:"警告",content:"覆盖原文时出错，是否另存为新文章？",callback:function(t){t&&e({title:i,description:a,content:c,cover:r})}}):void e({type:o,title:i,description:a,content:c,cover:r,tmplId:s})}var n=this,i=!1;$("#J-saveContent").on("click",function(){var o=tools.getLs(t),a=n.UE.getContent();return tools.isEmpty(a)?void tools.tip({type:"warning",content:"文章内容不能为空"}):void(i||(i=!0,tools.tmAjax({url:"/dialog/userTemplateSave",data:{tmplId:o},success:function(t){if("object"==typeof t&&0!=t.code)$("#J-goLogin").trigger("click");else{var o=$(t);n.body.css("overflow","hidden").append(o),e(o)}i=!1}})))})},viewTmpl:function(){var t=this,e=$(".J-viewTmplList"),o="",n=!1;e.on("click",".J-viewTmplItem",function(e){var i=$(this),a=i.find(".ico-loading"),r=i.data("id");$(e.target).hasClass("J-collectBtn")||n||(n=!0,a.show(),tools.tmAjax({url:"/ajax/getTmplContent",data:{tmplId:r},success:function(e){0==e.code?(o=1==e.isLike?"iscollection":"uncollection",t.setViewContent(e.content,o,r)):tools.tip({type:"warning",content:e.msg}),a.hide(),n=!1}}))})},cancelCollection:function(){var t=this,e=!1;$("#J-likeList").on("click",".J-collectBtn",function(){var o=$(this),n=o.data("targetid"),i=o.data("typeid");e||(e=!0,t.collection({typeId:i,targetId:n,operate:0,callback:function(){tools.tip({content:"取消成功",callback:function(){1==i?o.closest(".con-diy-item").remove():2==i&&o.closest(".J-viewTmplItem").remove(),e=!1}})}}))})},scrollLoadPic:function(){var t=this;$(".J-sourceList").closest(".con-box-list").scroll(function(){t.loadPic()})},loadPic:function(){var t=$(".J-sourceList"),e=t.offset().top,o=e+455;t.closest(".con-box-list").find("img").each(function(){var t=$(this),e=t.attr("original");if(!tools.isEmpty(e)){var n=t.get(0).getBoundingClientRect().top;n<=o&&(t.attr("src",e),t.removeAttr("original"))}})},fullScreen:function(){$(document).on("keydown",function(t){120===t.which&&($(".com-head").is(":hidden")?($(".com-head,.com-footer").show(),$(".edit").css("padding-top",0)):($(".com-head,.com-footer").hide(),$(".edit").css("padding-top",10)))})},addCustom:function(t){var e=this,o=e.curDiy.html().replace(/<script.*?>/gi,"").replace(/<\/script>/gi,"").replace(/<div.*?>/gi,"").replace(/<\/div>/gi,"");tools.tmAjax({url:"/ajax/addUserStyle",data:{content:o},success:function(e){0==e.code?tools.tip({content:"保存成功",callback:function(){"function"==typeof t&&t()}}):tools.tip({type:"warning",content:e.msg})}})},delCustom:function(){var t=!1;$("#J-myList").on("click",".J-deleteCustom",function(e){e.stopPropagation();var o=$(this),n=o.attr("data-id");t||dialog.confirm({type:"warning",move:!0,title:"警告",content:"确认删除这些素材吗？",callback:function(e){e&&(t=!0,tools.tmAjax({url:"/ajax/deleteUserStyle",data:{ids:n},success:function(e){0==e.code?(tools.tip({content:"删除成功"}),o.closest(".con-diy-item").remove()):tools.tip({type:"warning",content:e.msg}),t=!1}}))}})})},setPopIndex:function(){var t=this,e=999999;t.body.on("mousedown",".ui-popWindow",function(){var o=$(this),n=t.body.find(".ui-popTopWindow");if(!o.hasClass("ui-popTopWindow")){if(n.length>0){var i=n.css("z-index");o.css("z-index",Number(i)+1),n.removeClass("ui-popTopWindow")}else o.css("z-index",e);o.addClass("ui-popTopWindow")}})}};e.init()});